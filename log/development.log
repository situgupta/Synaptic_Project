  [1m[35m (494.9ms)[0m  [1m[35mCREATE DATABASE "synatics_data_analysis_development" ENCODING = 'unicode'[0m
  [1m[35m (421.6ms)[0m  [1m[35mCREATE DATABASE "synatics_data_analysis_test" ENCODING = 'unicode'[0m
  [1m[35m (19.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (29.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220611173434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (47.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220611173434"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-06-11 17:44:59.005353"], ["updated_at", "2022-06-11 17:44:59.005353"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (42.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateDoorkeeperTables (20220611175131)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (45.3ms)[0m  [1m[35mCREATE TABLE "oauth_applications" ("id" bigserial primary key, "name" character varying NOT NULL, "uid" character varying NOT NULL, "secret" character varying NOT NULL, "redirect_uri" text, "scopes" character varying DEFAULT '' NOT NULL, "confidential" boolean DEFAULT TRUE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_applications_on_uid" ON "oauth_applications" ("uid")[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "oauth_access_grants" ("id" bigserial primary key, "resource_owner_id" bigint NOT NULL, "application_id" bigint NOT NULL, "token" character varying NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying DEFAULT '' NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_grants_on_resource_owner_id" ON "oauth_access_grants" ("resource_owner_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_grants_on_application_id" ON "oauth_access_grants" ("application_id")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "oauth_access_tokens" ("id" bigserial primary key, "resource_owner_id" bigint, "application_id" bigint NOT NULL, "token" character varying NOT NULL, "refresh_token" character varying, "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying, "previous_refresh_token" character varying DEFAULT '' NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" ("resource_owner_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_tokens_on_application_id" ON "oauth_access_tokens" ("application_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" ("token")[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" ("refresh_token")[0m
  [1m[35m (10.5ms)[0m  [1m[35mALTER TABLE "oauth_access_tokens" ADD CONSTRAINT "fk_rails_732cb83ab7"
FOREIGN KEY ("application_id")
  REFERENCES "oauth_applications" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220611175131"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (41.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Create (1.4ms)[0m  [1m[32mINSERT INTO "oauth_applications" ("name", "uid", "secret", "redirect_uri", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "synaptics application"], ["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["secret", "1b6sLs_bBk2-FDHjrBVt8l_BzsqVWDDRa3U6hf7-nnw"], ["redirect_uri", ""], ["created_at", "2022-06-11 18:06:05.235584"], ["updated_at", "2022-06-11 18:06:05.235584"]]
  [1m[36mTRANSACTION (81.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2022-06-11 23:43:13 +0530
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/deepesh/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/deepesh/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb (Duration: 16.4ms | Allocations: 406)
Completed 200 OK in 70ms (Views: 36.7ms | ActiveRecord: 0.0ms | Allocations: 3538)


Started GET "/favicon.ico" for ::1 at 2022-06-11 23:43:14 +0530
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (45.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "deepesh@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "deepesh@gmail.com"], ["encrypted_password", "$2a$12$6AJxSOlktjNoenlDjHFa0uktQ0VfsZ4jVVcx/AKu4eni9Y2Wf64me"], ["created_at", "2022-06-11 18:16:23.214018"], ["updated_at", "2022-06-11 18:16:23.214018"]]
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
Started POST "/oauth/token?grant_type=password&email=deepesh@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc&client_secret=[FILTERED]" for ::1 at 2022-06-11 23:51:41 +0530
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "email"=>"deepesh@gmail.com", "password"=>"[FILTERED]", "client_id"=>"_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc", "client_secret"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (1.1ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["LIMIT", 1]]
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "deepesh@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8:in `authenticate'
Completed 400 Bad Request in 457ms (Views: 1.2ms | ActiveRecord: 19.4ms | Allocations: 23649)


Started POST "/oauth/token?grant_type=password&email=deepesh@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc&client_secret=[FILTERED]" for ::1 at 2022-06-11 23:52:17 +0530
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "email"=>"deepesh@gmail.com", "password"=>"[FILTERED]", "client_id"=>"_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc", "client_secret"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (0.9ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["LIMIT", 1]]
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "deepesh@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8:in `authenticate'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "K-XEry-uTc18j4Sv69ofN7uNYTKPHmbiBEgigbaFcrE"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "SpsSegPZh-ysmTelqRTFby8q9wnqlLTLVQ9qIiR9U9c"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (84.4ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "K-XEry-uTc18j4Sv69ofN7uNYTKPHmbiBEgigbaFcrE"], ["refresh_token", "SpsSegPZh-ysmTelqRTFby8q9wnqlLTLVQ9qIiR9U9c"], ["expires_in", 7200], ["created_at", "2022-06-11 18:22:17.686763"], ["scopes", ""]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 462ms (Views: 0.5ms | ActiveRecord: 95.2ms | Allocations: 18377)


Started GET "/api/users?email=situgupta@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc" for ::1 at 2022-06-12 00:31:50 +0530
  
ActionController::RoutingError (No route matches [GET] "/api/users"):
  
Started POST "/api/user_register?email=situgupta@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc" for ::1 at 2022-06-12 00:33:57 +0530
Processing by Api::UserRegisterController#create as */*
  Parameters: {"email"=>"situgupta@gmail.com", "password"=>"[FILTERED]", "client_id"=>"_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"}
[31mUnpermitted parameter: :client_id[0m
[31mUnpermitted parameter: :client_id[0m
  [1m[36mDoorkeeper::Application Load (0.6ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "situgupta@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "situgupta@gmail.com"], ["encrypted_password", "$2a$12$1U7xE98WcDMmNcMwl6bnIOnUyHCebkmT1XU2TgIRgWGU8wXthTBg2"], ["created_at", "2022-06-11 19:03:58.073733"], ["updated_at", "2022-06-11 19:03:58.073733"]]
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mDoorkeeper::AccessToken Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "44a4c03f9322a97a4a916387708b6128aec03a82ed0ba13c014e88ac40eb5a44"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:51:in `block in generate_refresh_token'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::AccessToken Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "Ob_0R0AuMD1YwhTVxRZ34-85-WEcfxJ66bwP8iS_nSg"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::AccessToken Create (1.3ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "Ob_0R0AuMD1YwhTVxRZ34-85-WEcfxJ66bwP8iS_nSg"], ["refresh_token", "44a4c03f9322a97a4a916387708b6128aec03a82ed0ba13c014e88ac40eb5a44"], ["expires_in", 7200], ["created_at", "2022-06-11 19:03:58.084990"], ["scopes", ""]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
Completed 200 OK in 434ms (Views: 0.4ms | ActiveRecord: 35.3ms | Allocations: 12256)


Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-12 01:18:51 +0530
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  
omniauth (2.1.0) lib/omniauth/strategy.rb:180:in `call!'
omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3.1) lib/rack/etag.rb:27:in `call'
rack (2.2.3.1) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3.1) lib/rack/head.rb:12:in `call'
activerecord (6.1.6) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.6) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3.1) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3.1) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.6) lib/rails/engine.rb:539:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-12 01:28:55 +0530
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  
omniauth (2.1.0) lib/omniauth/strategy.rb:180:in `call!'
omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3.1) lib/rack/etag.rb:27:in `call'
rack (2.2.3.1) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3.1) lib/rack/head.rb:12:in `call'
activerecord (6.1.6) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.6) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3.1) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3.1) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.6) lib/rails/engine.rb:539:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-12 01:45:48 +0530
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  
omniauth (2.1.0) lib/omniauth/strategy.rb:180:in `call!'
omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3.1) lib/rack/etag.rb:27:in `call'
rack (2.2.3.1) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3.1) lib/rack/head.rb:12:in `call'
activerecord (6.1.6) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.6) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3.1) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3.1) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.6) lib/rails/engine.rb:539:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAnalysisData (20220611203129)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (50.5ms)[0m  [1m[35mCREATE TABLE "analysis_data" ("id" bigserial primary key, "date" date, "value" character varying, "domain_name" character varying, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_7ef2953113"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_analysis_data_on_user_id" ON "analysis_data" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220611203129"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAnalysisData (20220611203129)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (47.7ms)[0m  [1m[35mDROP TABLE "analysis_data"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (44.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20220611203129"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUserCsvRecords (20220611203637)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (25.8ms)[0m  [1m[35mCREATE TABLE "user_csv_records" ("id" bigserial primary key, "date" date, "value" character varying, "domain_name" character varying, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ce938f1802"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_user_csv_records_on_user_id" ON "user_csv_records" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220611203637"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/oauth/token?grant_type=password&email=deepesh@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc&client_secret=[FILTERED]" for ::1 at 2022-06-12 02:23:29 +0530
  [1m[35m (38.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  
omniauth (2.1.0) lib/omniauth/strategy.rb:180:in `call!'
omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3.1) lib/rack/etag.rb:27:in `call'
rack (2.2.3.1) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3.1) lib/rack/head.rb:12:in `call'
activerecord (6.1.6) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.6) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3.1) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3.1) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.6) lib/rails/engine.rb:539:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/oauth/token?grant_type=password&email=deepesh@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc&client_secret=[FILTERED]" for ::1 at 2022-06-12 02:24:15 +0530
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "email"=>"deepesh@gmail.com", "password"=>"[FILTERED]", "client_id"=>"_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc", "client_secret"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (1.1ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "deepesh@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:10:in `authenticate'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "i9AF-groG5W4DNTiwz6j3rOOmc-Nag4IJIbH7BwxeyY"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (1.6ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["refresh_token", "i9AF-groG5W4DNTiwz6j3rOOmc-Nag4IJIbH7BwxeyY"], ["expires_in", 7200], ["created_at", "2022-06-11 20:54:16.144220"], ["scopes", ""]]
  [1m[36mTRANSACTION (43.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 408ms (Views: 0.3ms | ActiveRecord: 63.5ms | Allocations: 28448)


Started POST "/user_csv_record/import" for ::1 at 2022-06-12 02:32:41 +0530
  
ActionController::RoutingError (No route matches [POST] "/user_csv_record/import"):
  
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 02:33:00 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/user_csv_record/import"):
  
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 02:33:59 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f82a8ca21c8 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-5961-1inoxyr.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 90ms (ActiveRecord: 11.0ms | Allocations: 9956)


  
NameError (uninitialized constant #<Class:0x00007f82a8c9ab58>::CSV):
  
app/models/user_csv_record.rb:5:in `import'
app/controllers/api/user_csv_record_controller.rb:6:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 02:34:55 +0530
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007fea19c6fbc8 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-6099-1ejmize.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.7ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 45ms (ActiveRecord: 10.3ms | Allocations: 14373)


  
NameError (uninitialized constant User::CsvRecord):
  
app/models/user_csv_record.rb:6:in `block in import'
app/models/user_csv_record.rb:5:in `import'
app/controllers/api/user_csv_record_controller.rb:6:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 02:35:49 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007fea1670e808 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-6099-1w5sgw6.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 6.0ms | Allocations: 7588)


  
NoMethodError (undefined method `user_csv_records' for #<User:0x00007fea166e1d80>):
  
app/models/user_csv_record.rb:6:in `block in import'
app/models/user_csv_record.rb:5:in `import'
app/controllers/api/user_csv_record_controller.rb:6:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 02:36:22 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007fea1a5b3400 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-6099-16k3qun.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUserCsvRecord Load (42.4ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1 AND "user_csv_records"."date" = $2 AND "user_csv_records"."value" = $3 AND "user_csv_records"."domain_name" = $4 LIMIT $5[0m  [["user_id", 1], ["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:6:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:6:in `block in import'
  [1m[36mUserCsvRecord Create (41.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-11 21:06:22.921428"], ["updated_at", "2022-06-11 21:06:22.921428"]]
  â†³ app/models/user_csv_record.rb:6:in `block in import'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:6:in `block in import'
Completed 500 Internal Server Error in 146ms (ActiveRecord: 96.0ms | Allocations: 14008)


  
NameError (undefined local variable or method `csv_records_path' for #<Api::UserCsvRecordController:0x0000000000bec8>):
  
app/controllers/api/user_csv_record_controller.rb:7:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 02:37:41 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007fea18d01f88 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-6099-11j1fti.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUserCsvRecord Load (0.5ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1 AND "user_csv_records"."date" = $2 AND "user_csv_records"."value" = $3 AND "user_csv_records"."domain_name" = $4 LIMIT $5[0m  [["user_id", 1], ["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:6:in `block in import'
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 9.9ms | Allocations: 8785)


Started GET "/api/user_csv_record/export?Authorization=Bearer%20AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8" for ::1 at 2022-06-12 02:45:32 +0530
Processing by Api::UserCsvRecordController#export as */*
  Parameters: {"Authorization"=>"Bearer AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"}
Completed 500 Internal Server Error in 1ms (Allocations: 638)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/application_controller.rb:10:in `current_user'
app/controllers/api/user_csv_record_controller.rb:14:in `export'
Started GET "/api/user_csv_record/export?Authorization=Bearer%20AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8" for ::1 at 2022-06-12 02:47:05 +0530
Processing by Api::UserCsvRecordController#export as */*
  Parameters: {"Authorization"=>"Bearer AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"}
Completed 500 Internal Server Error in 74727ms (Allocations: 61613)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `export'
app/controllers/api/user_csv_record_controller.rb:15:in `export'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 02:48:26 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007fea16758610 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-6099-2mwqxr.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (2.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 89205ms (ActiveRecord: 8.8ms | Allocations: 41282)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `import'
app/controllers/api/user_csv_record_controller.rb:7:in `import'
Started POST "/oauth/token?grant_type=password&email=deepesh@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc&client_secret=[FILTERED]" for ::1 at 2022-06-12 02:50:16 +0530
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "email"=>"deepesh@gmail.com", "password"=>"[FILTERED]", "client_id"=>"_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc", "client_secret"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (3.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "deepesh@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:10:in `authenticate'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Load (1.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "JKRmQDyPc3SVH76CjbgtFdRTMGOHPFR2OMzPhCQNaTw"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (8.0ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "yaUMCOJsXLUl3mQjjFU0WC8us_eIeORcOiTakXScrRw"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (7.6ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "JKRmQDyPc3SVH76CjbgtFdRTMGOHPFR2OMzPhCQNaTw"], ["refresh_token", "yaUMCOJsXLUl3mQjjFU0WC8us_eIeORcOiTakXScrRw"], ["expires_in", 7200], ["created_at", "2022-06-11 21:20:20.205124"], ["scopes", ""]]
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 1208ms (Views: 10.3ms | ActiveRecord: 48.3ms | Allocations: 4658347)


Started GET "/api/user_csv_record/export" for ::1 at 2022-06-12 02:51:02 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (2.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUserCsvRecord Load (1.7ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/models/user_csv_record.rb:14:in `block in to_csv'
Sent data  (10.6ms)
Completed 200 OK in 624ms (Views: 2.2ms | ActiveRecord: 22.2ms | Allocations: 3452417)


Started GET "/api/user_csv_record/export" for ::1 at 2022-06-12 02:56:19 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Sent data  (8.0ms)
Completed 200 OK in 431ms (Views: 2.0ms | ActiveRecord: 18.7ms | Allocations: 2403220)


  [1m[36mUserCsvRecord Load (47.1ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1[0m  [["user_id", 1]]
  
NoMethodError (undefined method `empty?' for #<UserCsvRecord:0x00007fea19aca2c8>):
  
activemodel (6.1.6) lib/active_model/attribute_methods.rb:469:in `method_missing'
rack (2.2.3.1) lib/rack/etag.rb:69:in `block in digest_body'
activerecord (6.1.6) lib/active_record/relation/delegation.rb:88:in `each'
activerecord (6.1.6) lib/active_record/relation/delegation.rb:88:in `each'
actionpack (6.1.6) lib/action_dispatch/http/response.rb:158:in `each_chunk'
actionpack (6.1.6) lib/action_dispatch/http/response.rb:140:in `each'
actionpack (6.1.6) lib/action_dispatch/http/response.rb:76:in `each'
actionpack (6.1.6) lib/action_dispatch/http/response.rb:493:in `each'
rack (2.2.3.1) lib/rack/etag.rb:67:in `digest_body'
rack (2.2.3.1) lib/rack/etag.rb:31:in `call'
rack (2.2.3.1) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3.1) lib/rack/head.rb:12:in `call'
activerecord (6.1.6) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.6) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3.1) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3.1) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.6) lib/rails/engine.rb:539:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/api/user_csv_record/export" for ::1 at 2022-06-12 02:56:48 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUserCsvRecord Load (1.5ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/models/user_csv_record.rb:14:in `block in to_csv'
Sent data  (9.7ms)
Completed 200 OK in 614ms (Views: 2.7ms | ActiveRecord: 26.2ms | Allocations: 3446153)


Started POST "/oauth/token?grant_type=password&email=deepesh@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc&client_secret=[FILTERED]" for ::1 at 2022-06-12 11:04:16 +0530
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "email"=>"deepesh@gmail.com", "password"=>"[FILTERED]", "client_id"=>"_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc", "client_secret"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "deepesh@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:10:in `authenticate'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "jEEQuaklN-567Nl37IhlaGmc5bQMvtnHbNHG0T7ci4g"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (81.6ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["refresh_token", "jEEQuaklN-567Nl37IhlaGmc5bQMvtnHbNHG0T7ci4g"], ["expires_in", 7200], ["created_at", "2022-06-12 05:34:17.513636"], ["scopes", ""]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 470ms (Views: 0.4ms | ActiveRecord: 142.3ms | Allocations: 28454)


Started GET "/api/user_csv_record/export" for ::1 at 2022-06-12 11:04:37 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.3ms | Allocations: 2456)


  
ArgumentError (too few arguments):
  
app/controllers/api/user_csv_record_controller.rb:15:in `format'
app/controllers/api/user_csv_record_controller.rb:15:in `export'
Started GET "/api/user_csv_record/export" for ::1 at 2022-06-12 11:05:17 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 4.3ms | Allocations: 7023)


  
NoMethodError (undefined method `csv_records' for #<User:0x00007fa4c5239350>):
  
app/controllers/api/user_csv_record_controller.rb:23:in `export'
Started GET "/api/user_csv_record/export" for ::1 at 2022-06-12 11:05:43 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 6.7ms | Allocations: 7873)


  
NoMethodError (undefined method `respond_to' for #<Api::UserCsvRecordController:0x0000000000c2b0>
Did you mean?  respond_to?
               respond_with
               responder
               responder?
               responder=):
  
app/controllers/api/user_csv_record_controller.rb:26:in `export'
Started GET "/api/user_csv_record/export" for ::1 at 2022-06-12 11:06:12 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 6.2ms | Allocations: 5580)


  
RuntimeError (In order to use respond_with, first you need to declare the formats your controller responds to in the class level.):
  
app/controllers/api/user_csv_record_controller.rb:26:in `export'
Started GET "/api/user_csv_record/export" for ::1 at 2022-06-12 11:06:33 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUserCsvRecord Load (0.5ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/models/user_csv_record.rb:14:in `block in to_csv'
Sent data  (0.3ms)
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 9.2ms | Allocations: 8852)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 11:08:10 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUserCsvRecord Load (0.3ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/models/user_csv_record.rb:14:in `block in to_csv'
Sent data  (0.2ms)
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 8.4ms | Allocations: 8648)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 11:16:54 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Sent file my_file.txt (15.4ms)
Completed 200 OK in 47ms (ActiveRecord: 9.5ms | Allocations: 10104)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 11:20:49 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Sent file my_file.txt (0.2ms)
Completed 200 OK in 29ms (ActiveRecord: 13.1ms | Allocations: 5620)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 11:21:24 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Sent file my_file.txt (0.2ms)
Completed 200 OK in 26ms (ActiveRecord: 8.1ms | Allocations: 5577)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 11:32:17 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 200 OK in 72ms (Views: 0.2ms | ActiveRecord: 48.8ms | Allocations: 7111)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 11:36:06 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 12.2ms | Allocations: 5576)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 11:43:05 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 10.8ms | Allocations: 9427)


  
NameError (undefined local variable or method `file' for #<Api::UserCsvRecordController:0x0000000001ac20>
Did you mean?  fail):
  
app/controllers/api/user_csv_record_controller.rb:15:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 11:44:08 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUserCsvRecord Load (0.5ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/models/user_csv_record.rb:14:in `block in to_csv'
Completed 500 Internal Server Error in 103427ms (ActiveRecord: 12.0ms | Allocations: 131835)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `export'
app/controllers/api/user_csv_record_controller.rb:18:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 11:49:47 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (2.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUserCsvRecord Load (1.3ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/models/user_csv_record.rb:14:in `block in to_csv'
Completed 500 Internal Server Error in 818112ms (ActiveRecord: 16.4ms | Allocations: 2965122)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `export'
app/controllers/api/user_csv_record_controller.rb:18:in `export'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUploadedFiles (20220612063458)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (55.0ms)[0m  [1m[35mCREATE TABLE "uploaded_files" ("id" bigserial primary key, "file_name" character varying, "user_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220612063458"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnUploadedFileIdIntoUserCsvRecords (20220612063542)
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "user_csv_records" ADD "uploaded_file_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220612063542"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 12:30:41 +0530
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f91898ac060 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-gbog6t.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 57ms (ActiveRecord: 15.3ms | Allocations: 15512)


  
ActiveModel::UnknownAttributeError (unknown attribute 'name' for UploadedFile.):
  
app/models/uploaded_file.rb:5:in `add_file'
app/controllers/api/user_csv_record_controller.rb:6:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 12:31:24 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f91898be5a8 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-1odkkns.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 2949)


  
NameError (undefined local variable or method `file_name' for #<Api::UserCsvRecordController:0x0000000000a5a0>):
  
app/controllers/api/user_csv_record_controller.rb:6:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 12:31:38 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f9180621010 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-1a57mgz.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
Completed 500 Internal Server Error in 181112ms (ActiveRecord: 0.0ms | Allocations: 47031)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `import'
app/controllers/api/user_csv_record_controller.rb:7:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 12:34:44 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f9182860040 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-zj5llg.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 332ms (ActiveRecord: 14.9ms | Allocations: 1950969)


  
ActiveModel::UnknownAttributeError (unknown attribute 'name' for UploadedFile.):
  
app/models/uploaded_file.rb:5:in `add_file'
app/controllers/api/user_csv_record_controller.rb:6:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 12:35:35 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f9180588950 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-1d16ep6.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.7ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (7.7ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:05:38.966226"], ["updated_at", "2022-06-12 07:05:38.966226"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUserCsvRecord Load (1.6ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1 AND "user_csv_records"."date" = $2 AND "user_csv_records"."value" = $3 AND "user_csv_records"."domain_name" = $4 LIMIT $5[0m  [["user_id", 1], ["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:8:in `block in import'
Completed 200 OK in 985ms (Views: 5.8ms | ActiveRecord: 42.1ms | Allocations: 5107947)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 12:41:57 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f91856d4cc8 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-65v1mk.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (2.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (3.6ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:12:01.184654"], ["updated_at", "2022-06-12 07:12:01.184654"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUserCsvRecord Load (1.7ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1 AND "user_csv_records"."date" = $2 AND "user_csv_records"."value" = $3 AND "user_csv_records"."domain_name" = $4 LIMIT $5[0m  [["user_id", 1], ["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:8:in `block in import'
  [1m[36mUserCsvRecord Load (1.3ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1 AND "user_csv_records"."date" = $2 AND "user_csv_records"."value" = $3 AND "user_csv_records"."domain_name" = $4 LIMIT $5[0m  [["user_id", 1], ["date", "2022-06-13"], ["value", "400"], ["domain_name", "facebook.com"], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:8:in `block in import'
Completed 200 OK in 1106ms (Views: 4.2ms | ActiveRecord: 40.2ms | Allocations: 6189621)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 12:43:20 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f918074bd00 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-o45b6v.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (1.8ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:13:23.769915"], ["updated_at", "2022-06-12 07:13:23.769915"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUserCsvRecord Load (1.4ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1 AND "user_csv_records"."date" = $2 AND "user_csv_records"."value" = $3 AND "user_csv_records"."domain_name" = $4 LIMIT $5[0m  [["user_id", 1], ["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:8:in `block in import'
  [1m[36mUserCsvRecord Load (1.3ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."user_id" = $1 AND "user_csv_records"."date" = $2 AND "user_csv_records"."value" = $3 AND "user_csv_records"."domain_name" = $4 LIMIT $5[0m  [["user_id", 1], ["date", "2022-06-13"], ["value", "400"], ["domain_name", "facebook.com"], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:8:in `block in import'
Completed 200 OK in 983ms (Views: 4.3ms | ActiveRecord: 45.5ms | Allocations: 6002723)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 13:07:25 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f9184bc27e0 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-1lw4gfq.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (3.9ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:37:29.769583"], ["updated_at", "2022-06-12 07:37:29.769583"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
Completed 500 Internal Server Error in 639ms (ActiveRecord: 43.2ms | Allocations: 3801302)


  
SyntaxError (/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/app/models/user_csv_record.rb:37: syntax error, unexpected `self', expecting ';' or '\n'
    def self.to_csv
        ^~~~
/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/app/models/user_csv_record.rb:47: syntax error, unexpected `end', expecting end-of-input):
  
app/models/user_csv_record.rb:37: syntax error, unexpected `self', expecting ';' or '\n'
app/models/user_csv_record.rb:47: syntax error, unexpected `end', expecting end-of-input
app/models/user_csv_record.rb:37: syntax error, unexpected `self', expecting ';' or '\n'
app/models/user_csv_record.rb:47: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/user_csv_record_controller.rb:7:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 13:09:07 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f9183aa0688 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-jve2kt.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (1.5ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:39:11.212882"], ["updated_at", "2022-06-12 07:39:11.212882"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
Completed 500 Internal Server Error in 556ms (ActiveRecord: 50.6ms | Allocations: 3404685)


  
SyntaxError (/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/app/models/user_csv_record.rb:37: syntax error, unexpected `self', expecting ';' or '\n'
    def self.to_csv
        ^~~~
/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/app/models/user_csv_record.rb:47: syntax error, unexpected `end', expecting end-of-input):
  
app/models/user_csv_record.rb:37: syntax error, unexpected `self', expecting ';' or '\n'
app/models/user_csv_record.rb:47: syntax error, unexpected `end', expecting end-of-input
app/models/user_csv_record.rb:37: syntax error, unexpected `self', expecting ';' or '\n'
app/models/user_csv_record.rb:47: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/user_csv_record_controller.rb:7:in `import'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 13:09:38 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f9189868a90 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-1t0ixib.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (1.3ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:39:42.469953"], ["updated_at", "2022-06-12 07:39:42.469953"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
Completed 200 OK in 641ms (Views: 5.2ms | ActiveRecord: 23.7ms | Allocations: 3598408)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 13:09:54 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f91806ee3d0 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-3ra6nl.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (3.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (1.9ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:39:57.740293"], ["updated_at", "2022-06-12 07:39:57.740293"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
Completed 200 OK in 440013ms (Views: 0.5ms | ActiveRecord: 37.6ms | Allocations: 3681478)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 13:17:24 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f9185520cd8 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-1riomo1.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:47:24.692649"], ["updated_at", "2022-06-12 07:47:24.692649"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
Completed 200 OK in 51439ms (Views: 0.3ms | ActiveRecord: 15.2ms | Allocations: 31465)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 13:28:08 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f9183adfb80 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-1tgk7oh.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (1.0ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:58:08.725955"], ["updated_at", "2022-06-12 07:58:08.725955"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
Completed 200 OK in 86847ms (Views: 0.3ms | ActiveRecord: 61.6ms | Allocations: 82722)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 13:29:41 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f9183b1c940 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-9313-12f5irx.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.7ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (1.1ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample - Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 07:59:41.163804"], ["updated_at", "2022-06-12 07:59:41.163804"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (1.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 07:59:42.967961"], ["updated_at", "2022-06-12 07:59:42.967961"], ["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (41.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (1.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "400"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 07:59:54.068191"], ["updated_at", "2022-06-12 07:59:54.068191"], ["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
Completed 200 OK in 12984ms (Views: 0.2ms | ActiveRecord: 106.0ms | Allocations: 25536)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 14:48:41 +0530
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
Completed 500 Internal Server Error in 67ms (ActiveRecord: 13.3ms | Allocations: 15137)


  
NoMethodError (undefined method `uploaded_files' for #<User:0x00007f848e5eb1f8>):
  
app/controllers/api/user_csv_record_controller.rb:12:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 14:49:39 +0530
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:12:in `export'
Completed 500 Internal Server Error in 85ms (ActiveRecord: 16.1ms | Allocations: 19363)


  
NoMethodError (undefined method `id' for 10:Integer
Did you mean?  i):
  
app/controllers/api/user_csv_record_controller.rb:13:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 14:50:16 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.7ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
Completed 500 Internal Server Error in 18750ms (ActiveRecord: 11.0ms | Allocations: 907398)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `export'
app/controllers/api/user_csv_record_controller.rb:14:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 14:50:43 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (2.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
Completed 500 Internal Server Error in 17210ms (ActiveRecord: 30.7ms | Allocations: 3450746)


  
NoMethodError (undefined method `name' for #<UploadedFile:0x00007f9bf59a2d40>):
  
app/controllers/api/user_csv_record_controller.rb:15:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 14:51:24 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (0.7ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
Completed 500 Internal Server Error in 1828ms (ActiveRecord: 10.9ms | Allocations: 19695)


  
NoMethodError (undefined method `original_filename' for #<File:sample - Sheet1.csv (closed)>):
  
app/controllers/api/user_csv_record_controller.rb:17:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:00:50 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.7ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (1.3ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
[AWS S3 400 1.999153 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>77,:data=>#<File:sample - Sheet1.csv (77 bytes)>,:key=>"sample - Sheet1.csv") AWS::S3::Errors::AccessControlListNotSupported The bucket does not allow ACLs

Completed 500 Internal Server Error in 32654ms (ActiveRecord: 60.4ms | Allocations: 1484760)


  
AWS::S3::Errors::AccessControlListNotSupported (The bucket does not allow ACLs):
  
(eval):3:in `put_object'
app/controllers/api/user_csv_record_controller.rb:18:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:03:14 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (0.9ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
[AWS S3 403 0.875777 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>77,:data=>#<File:sample - Sheet1.csv (77 bytes)>,:key=>"sample - Sheet1.csv") AWS::S3::Errors::AccessDenied Access Denied

Completed 500 Internal Server Error in 16119ms (ActiveRecord: 3.6ms | Allocations: 360361)


  
AWS::S3::Errors::AccessDenied (Access Denied):
  
(eval):3:in `put_object'
app/controllers/api/user_csv_record_controller.rb:18:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:07:15 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (1.2ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
Completed 500 Internal Server Error in 13652ms (ActiveRecord: 4.1ms | Allocations: 336479)


  
IOError (closed stream):
  
(eval):3:in `put_object'
app/controllers/api/user_csv_record_controller.rb:18:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:08:09 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (0.2ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
Completed 500 Internal Server Error in 2874ms (ActiveRecord: 1.1ms | Allocations: 7780)


  
IOError (closed stream):
  
(eval):3:in `put_object'
app/controllers/api/user_csv_record_controller.rb:18:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:08:15 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (0.5ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
Completed 500 Internal Server Error in 1251ms (ActiveRecord: 3.2ms | Allocations: 7721)


  
IOError (closed stream):
  
(eval):3:in `put_object'
app/controllers/api/user_csv_record_controller.rb:18:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:09:30 +0530
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (1.4ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["uploaded_file_id", 10], ["LIMIT", 11]]
  â†³ app/controllers/api/user_csv_record_controller.rb:16:in `export'
  [1m[36mUserCsvRecord Load (1.1ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
  [1m[36mCACHE UserCsvRecord Load (0.1ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
Completed 500 Internal Server Error in 172582ms (ActiveRecord: 28.0ms | Allocations: 2202777)


  
IOError (closed stream):
  
(eval):3:in `put_object'
app/controllers/api/user_csv_record_controller.rb:18:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:12:28 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (5.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (1.2ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
Completed 500 Internal Server Error in 21784ms (ActiveRecord: 22.5ms | Allocations: 1293844)


  
Errno::ENOENT (No such file or directory @ rb_sysopen - date,value,domain_name
2022-06-12,500,google.com
2022-06-13,400,facebook.com
):
  
app/controllers/api/user_csv_record_controller.rb:19:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:19:16 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (4.8ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
[AWS S3 200 1.106263 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>77,:data=>#<File:public/sample - Sheet1.csv (77 bytes)>,:key=>"sample - Sheet1.csv")  

Completed 500 Internal Server Error in 122242ms (ActiveRecord: 34.2ms | Allocations: 1668634)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `export'
app/controllers/api/user_csv_record_controller.rb:23:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:24:45 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (0.6ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
[AWS S3 200 1.129163 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>77,:data=>#<File:public/sample - Sheet1.csv (77 bytes)>,:key=>"sample - Sheet1.csv")  

Completed 200 OK in 3436ms (Views: 0.5ms | ActiveRecord: 16.5ms | Allocations: 36863)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:26:17 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (0.5ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
[AWS S3 200 1.116071 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>77,:data=>#<File:public/sample - Sheet1.csv (77 bytes)>,:key=>"sample - Sheet1.csv")  

Completed 500 Internal Server Error in 3147ms (ActiveRecord: 15.2ms | Allocations: 22320)


  
NameError (undefined local variable or method `csv_file_namee' for #<Api::UserCsvRecordController:0x0000000000f730>
Did you mean?  csv_file_name):
  
app/controllers/api/user_csv_record_controller.rb:24:in `export'
Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:26:38 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
  [1m[36mUserCsvRecord Load (1.0ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 10]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
[AWS S3 200 1.090705 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>77,:data=>#<File:public/sample - Sheet1.csv (77 bytes)>,:key=>"sample - Sheet1.csv")  

Completed 200 OK in 2451ms (Views: 0.3ms | ActiveRecord: 36.1ms | Allocations: 19979)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:26:54 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:13:in `export'
Completed 500 Internal Server Error in 105618ms (ActiveRecord: 3.0ms | Allocations: 229890)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `export'
app/controllers/api/user_csv_record_controller.rb:16:in `export'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 15:29:25 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007fe94fea99e0 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-11269-4buis1.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (2.1ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample-Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 09:59:28.177689"], ["updated_at", "2022-06-12 09:59:28.177689"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
error details: exit
error details: exit
Completed 200 OK in 8399ms (Views: 7.4ms | ActiveRecord: 23.1ms | Allocations: 3102886)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:29:43 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (1.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:12:in `export'
  [1m[36mUserCsvRecord Load (1.4ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 11]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
[AWS S3 200 1.135031 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>23,:data=>#<File:public/sample-Sheet1.csv (23 bytes)>,:key=>"sample-Sheet1.csv")  

Completed 200 OK in 1389ms (Views: 2.9ms | ActiveRecord: 10.2ms | Allocations: 1615163)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 15:32:07 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007fe955839708 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-11269-1l037kv.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "AG3XnCfzexYtZ5sBu1L7pcIFvpDJ_UJyF0qc9YgoZV8"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (1.6ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample-Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 10:02:07.861932"], ["updated_at", "2022-06-12 10:02:07.861932"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 10:02:35.814327"], ["updated_at", "2022-06-12 10:02:35.814327"], ["uploaded_file_id", 12]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "400"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 10:02:38.158592"], ["updated_at", "2022-06-12 10:02:38.158592"], ["uploaded_file_id", 12]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (41.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
Completed 200 OK in 30419ms (Views: 0.3ms | ActiveRecord: 100.5ms | Allocations: 3370884)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 15:32:48 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:12:in `export'
  [1m[36mUserCsvRecord Load (0.6ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
[AWS S3 200 1.186457 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>77,:data=>#<File:public/sample-Sheet1.csv (77 bytes)>,:key=>"sample-Sheet1.csv")  

Completed 200 OK in 1203ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 3804)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:22:23 +0530
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[36mUserCsvRecord Load (0.5ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["uploaded_file_id", 12], ["LIMIT", 11]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:21:in `get_median'
Completed 500 Internal Server Error in 35853ms (ActiveRecord: 17.0ms | Allocations: 73971)


  
NoMethodError (undefined method `/' for "400500":String):
  
app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
app/controllers/api/data_aggregation_controller.rb:7:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:23:29 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35mCACHE  (10.3ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:21:in `get_median'
Completed 500 Internal Server Error in 178880ms (ActiveRecord: 14.3ms | Allocations: 64639)


  
NoMethodError (undefined method `/' for "400500":String):
  
app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
app/controllers/api/data_aggregation_controller.rb:7:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:26:31 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35mCACHE  (0.2ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:21:in `get_median'
Completed 200 OK in 10024ms (Views: 0.6ms | ActiveRecord: 116.9ms | Allocations: 69672)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:29:31 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:27:in `get_time_series'
Completed 500 Internal Server Error in 634752ms (ActiveRecord: 12.9ms | Allocations: 29739)


  
NameError (undefined local variable or method `row' for #<Api::DataAggregationController:0x0000000000d070>):
  
app/controllers/api/data_aggregation_controller.rb:30:in `block in get_time_series'
app/controllers/api/data_aggregation_controller.rb:28:in `each'
app/controllers/api/data_aggregation_controller.rb:28:in `each_with_index'
app/controllers/api/data_aggregation_controller.rb:28:in `each'
app/controllers/api/data_aggregation_controller.rb:28:in `map'
app/controllers/api/data_aggregation_controller.rb:28:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Started POST "/oauth/token?grant_type=password&email=deepesh@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc&client_secret=[FILTERED]" for ::1 at 2022-06-12 16:40:12 +0530
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "email"=>"deepesh@gmail.com", "password"=>"[FILTERED]", "client_id"=>"_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc", "client_secret"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (1.4ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "deepesh@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `authenticate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "tARJroFxPph_bZX8oZbdApilBnhaXB1c6vq6UYPTpnU"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (1.0ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["refresh_token", "tARJroFxPph_bZX8oZbdApilBnhaXB1c6vq6UYPTpnU"], ["expires_in", 7200], ["created_at", "2022-06-12 11:10:12.723044"], ["scopes", ""]]
  [1m[36mTRANSACTION (43.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 423ms (Views: 0.2ms | ActiveRecord: 66.2ms | Allocations: 18955)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:41:31 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (4.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 12]]
  â†³ app/controllers/api/data_aggregation_controller.rb:27:in `get_time_series'
Completed 500 Internal Server Error in 268487ms (ActiveRecord: 15.4ms | Allocations: 34393)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:31:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 16:46:34 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007ff664e2cf68 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-12773-fsqruc.csv>, @original_filename="sample - Sheet1 (1).csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1 (1).csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (1.6ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample-Sheet1(1).csv"], ["user_id", 1], ["created_at", "2022-06-12 11:16:34.416736"], ["updated_at", "2022-06-12 11:16:34.416736"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:16:37.025364"], ["updated_at", "2022-06-12 11:16:37.025364"], ["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (40.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "400"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:16:38.274972"], ["updated_at", "2022-06-12 11:16:38.274972"], ["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (41.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-11"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:16:39.424966"], ["updated_at", "2022-06-12 11:16:39.424966"], ["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:16:40.615968"], ["updated_at", "2022-06-12 11:16:40.615968"], ["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (41.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-14"], ["value", "100"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:16:41.503906"], ["updated_at", "2022-06-12 11:16:41.503906"], ["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (41.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-15"], ["value", "600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:16:42.281687"], ["updated_at", "2022-06-12 11:16:42.281687"], ["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (41.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-16"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:16:43.030914"], ["updated_at", "2022-06-12 11:16:43.030914"], ["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-17"], ["value", "100"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:16:43.858470"], ["updated_at", "2022-06-12 11:16:43.858470"], ["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (41.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-18"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:16:44.633418"], ["updated_at", "2022-06-12 11:16:44.633418"], ["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
Completed 200 OK in 10310ms (Views: 0.3ms | ActiveRecord: 398.4ms | Allocations: 906198)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-12 16:47:33 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "1KX6UjRxpVvM6TektLNOR-e6H12NImP7meMRfq7YHHg"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:12:in `export'
  [1m[36mUserCsvRecord Load (0.3ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 13]]
  â†³ app/models/user_csv_record.rb:54:in `block in to_csv'
[AWS S3 200 1.167649 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>263,:data=>#<File:public/sample-Sheet1(1).csv (263 bytes)>,:key=>"sample-Sheet1(1).csv")  

Completed 200 OK in 1211ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 8461)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:48:16 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 13]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 13]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 13]]
  â†³ app/controllers/api/data_aggregation_controller.rb:27:in `get_time_series'
Completed 200 OK in 82869ms (Views: 0.4ms | ActiveRecord: 2.7ms | Allocations: 16119)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:49:44 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 13]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 13]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 13]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series'
Completed 200 OK in 224493ms (Views: 0.3ms | ActiveRecord: 11.4ms | Allocations: 23707)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 16:53:46 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007ff66e9b0a98 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-12773-wvhqat.csv>, @original_filename="sample - Sheet1.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample-Sheet1.csv"], ["user_id", 1], ["created_at", "2022-06-12 11:23:46.069313"], ["updated_at", "2022-06-12 11:23:46.069313"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:49.598967"], ["updated_at", "2022-06-12 11:23:49.598967"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "400"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:50.361972"], ["updated_at", "2022-06-12 11:23:50.361972"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-11"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:51.058646"], ["updated_at", "2022-06-12 11:23:51.058646"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:51.831967"], ["updated_at", "2022-06-12 11:23:51.831967"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (40.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-14"], ["value", "100"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:52.313127"], ["updated_at", "2022-06-12 11:23:52.313127"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (40.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.9ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-15"], ["value", "600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:53.020582"], ["updated_at", "2022-06-12 11:23:53.020582"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-16"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:53.480815"], ["updated_at", "2022-06-12 11:23:53.480815"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (41.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-17"], ["value", "100"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:53.791570"], ["updated_at", "2022-06-12 11:23:53.791570"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (20.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-18"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:54.001682"], ["updated_at", "2022-06-12 11:23:54.001682"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-19"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:23:54.195063"], ["updated_at", "2022-06-12 11:23:54.195063"], ["uploaded_file_id", 14]]
  â†³ app/models/user_csv_record.rb:39:in `block in import'
  [1m[36mTRANSACTION (41.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:39:in `block in import'
Completed 200 OK in 8175ms (Views: 0.4ms | ActiveRecord: 443.0ms | Allocations: 152311)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:54:06 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 14]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 14]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 14]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series'
Completed 200 OK in 27ms (Views: 0.3ms | ActiveRecord: 3.0ms | Allocations: 15153)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:54:13 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 14]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 14]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 14]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series'
Completed 200 OK in 104430ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 19483)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:56:23 +0530
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 14]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 14]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 14]]
  â†³ app/controllers/api/data_aggregation_controller.rb:25:in `get_time_series'
Completed 200 OK in 99409ms (Views: 0.4ms | ActiveRecord: 25.4ms | Allocations: 69598)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 16:58:47 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f87afb64110 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-13821-vchh0r.csv>, @original_filename="sample - Sheet1 (2).csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1 (2).csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample-Sheet1(2).csv"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.413823"], ["updated_at", "2022-06-12 11:28:47.413823"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.9ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.449540"], ["updated_at", "2022-06-12 11:28:47.449540"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.7ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "400"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.504966"], ["updated_at", "2022-06-12 11:28:47.504966"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-11"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.516611"], ["updated_at", "2022-06-12 11:28:47.516611"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-20"], ["value", "109"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.523199"], ["updated_at", "2022-06-12 11:28:47.523199"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-14"], ["value", "100"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.533612"], ["updated_at", "2022-06-12 11:28:47.533612"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-15"], ["value", "600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.541251"], ["updated_at", "2022-06-12 11:28:47.541251"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-16"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.549610"], ["updated_at", "2022-06-12 11:28:47.549610"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-17"], ["value", "100"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.557861"], ["updated_at", "2022-06-12 11:28:47.557861"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-18"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.567292"], ["updated_at", "2022-06-12 11:28:47.567292"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-19"], ["value", "100"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:28:47.576290"], ["updated_at", "2022-06-12 11:28:47.576290"], ["uploaded_file_id", 15]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
Completed 200 OK in 197ms (Views: 0.2ms | ActiveRecord: 82.4ms | Allocations: 39791)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 16:58:53 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 15]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 15]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 15]]
  â†³ app/controllers/api/data_aggregation_controller.rb:25:in `get_time_series'
Completed 200 OK in 637321ms (Views: 0.4ms | ActiveRecord: 2.8ms | Allocations: 2387338)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 17:11:28 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f87ab0c47b8 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-13821-123vz0e.csv>, @original_filename="sample - Sheet1 (3).csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1 (3).csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (5.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (0.8ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample-Sheet1(3).csv"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.198637"], ["updated_at", "2022-06-12 11:41:28.198637"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (95.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.307289"], ["updated_at", "2022-06-12 11:41:28.307289"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (63.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (1.7ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (2.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "800"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.382498"], ["updated_at", "2022-06-12 11:41:28.382498"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-11"], ["value", "900"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.393073"], ["updated_at", "2022-06-12 11:41:28.393073"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-20"], ["value", "1000"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.406630"], ["updated_at", "2022-06-12 11:41:28.406630"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (2.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-14"], ["value", "1100"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.416964"], ["updated_at", "2022-06-12 11:41:28.416964"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-15"], ["value", "1500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.427972"], ["updated_at", "2022-06-12 11:41:28.427972"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-16"], ["value", "1600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.438551"], ["updated_at", "2022-06-12 11:41:28.438551"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-17"], ["value", "1700"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.452306"], ["updated_at", "2022-06-12 11:41:28.452306"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-18"], ["value", "1900"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.459714"], ["updated_at", "2022-06-12 11:41:28.459714"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-19"], ["value", "2000"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:41:28.468864"], ["updated_at", "2022-06-12 11:41:28.468864"], ["uploaded_file_id", 16]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
Completed 200 OK in 289ms (Views: 0.2ms | ActiveRecord: 194.5ms | Allocations: 28452)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 17:11:56 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 16]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 16]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 16]]
  â†³ app/controllers/api/data_aggregation_controller.rb:25:in `get_time_series'
Completed 200 OK in 627973ms (Views: 0.3ms | ActiveRecord: 3.6ms | Allocations: 1508983)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 17:22:40 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 16]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 16]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 16]]
  â†³ app/controllers/api/data_aggregation_controller.rb:25:in `get_time_series'
Completed 200 OK in 4848ms (Views: 0.4ms | ActiveRecord: 14.6ms | Allocations: 24708)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 17:23:03 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f87a737f358 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-13821-wsckdm.csv>, @original_filename="sample - Sheet1 (4).csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1 (4).csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (0.6ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample-Sheet1(4).csv"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.479338"], ["updated_at", "2022-06-12 11:53:03.479338"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (2.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.544844"], ["updated_at", "2022-06-12 11:53:03.544844"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (2.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "800"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.594763"], ["updated_at", "2022-06-12 11:53:03.594763"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-11"], ["value", "900"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.609671"], ["updated_at", "2022-06-12 11:53:03.609671"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (9.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-20"], ["value", "1000"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.630203"], ["updated_at", "2022-06-12 11:53:03.630203"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-14"], ["value", "1100"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.647353"], ["updated_at", "2022-06-12 11:53:03.647353"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (6.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (3.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-15"], ["value", "1500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.664833"], ["updated_at", "2022-06-12 11:53:03.664833"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-16"], ["value", "1600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.687137"], ["updated_at", "2022-06-12 11:53:03.687137"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.7ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (2.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-17"], ["value", "1700"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.701196"], ["updated_at", "2022-06-12 11:53:03.701196"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (2.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-18"], ["value", "1900"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.718527"], ["updated_at", "2022-06-12 11:53:03.718527"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-19"], ["value", "2000"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.735694"], ["updated_at", "2022-06-12 11:53:03.735694"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-01"], ["value", "2100"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.746004"], ["updated_at", "2022-06-12 11:53:03.746004"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (1.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-02"], ["value", "2200"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.757317"], ["updated_at", "2022-06-12 11:53:03.757317"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-03"], ["value", "2300"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.766435"], ["updated_at", "2022-06-12 11:53:03.766435"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-04"], ["value", "2400"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.775923"], ["updated_at", "2022-06-12 11:53:03.775923"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-05"], ["value", "2500"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.783421"], ["updated_at", "2022-06-12 11:53:03.783421"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.9ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-06"], ["value", "2600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.794007"], ["updated_at", "2022-06-12 11:53:03.794007"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (1.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-07"], ["value", "2700"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.805008"], ["updated_at", "2022-06-12 11:53:03.805008"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-08"], ["value", "1900"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.813472"], ["updated_at", "2022-06-12 11:53:03.813472"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-09"], ["value", "1700"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.824143"], ["updated_at", "2022-06-12 11:53:03.824143"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-10"], ["value", "1600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.837606"], ["updated_at", "2022-06-12 11:53:03.837606"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-11"], ["value", "1500"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 11:53:03.846343"], ["updated_at", "2022-06-12 11:53:03.846343"], ["uploaded_file_id", 17]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
Completed 200 OK in 375ms (Views: 0.3ms | ActiveRecord: 173.0ms | Allocations: 59911)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 18:14:42 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007f87aa32fc60 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-13821-a7obju.csv>, @original_filename="sample - Sheet1 (5).csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1 (5).csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (2.1ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample-Sheet1(5).csv"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.107379"], ["updated_at", "2022-06-12 12:44:42.107379"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", "500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.125009"], ["updated_at", "2022-06-12 12:44:42.125009"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", "800"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.175494"], ["updated_at", "2022-06-12 12:44:42.175494"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-11"], ["value", "900"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.190500"], ["updated_at", "2022-06-12 12:44:42.190500"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-20"], ["value", "1000"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.198404"], ["updated_at", "2022-06-12 12:44:42.198404"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-14"], ["value", "1100"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.211986"], ["updated_at", "2022-06-12 12:44:42.211986"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (1.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (8.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-15"], ["value", "1500"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.231639"], ["updated_at", "2022-06-12 12:44:42.231639"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.7ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (19.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-16"], ["value", "1600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.252223"], ["updated_at", "2022-06-12 12:44:42.252223"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (5.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-17"], ["value", "1700"], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.288124"], ["updated_at", "2022-06-12 12:44:42.288124"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.7ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (2.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-18"], ["value", "1900"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.308020"], ["updated_at", "2022-06-12 12:44:42.308020"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (1.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-19"], ["value", "2000"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.332094"], ["updated_at", "2022-06-12 12:44:42.332094"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-01"], ["value", "2100"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.367383"], ["updated_at", "2022-06-12 12:44:42.367383"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.9ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-02"], ["value", "2200"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.422207"], ["updated_at", "2022-06-12 12:44:42.422207"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (5.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-03"], ["value", "2300"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.435906"], ["updated_at", "2022-06-12 12:44:42.435906"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-04"], ["value", "2400"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.460050"], ["updated_at", "2022-06-12 12:44:42.460050"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-05"], ["value", "2500"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.471375"], ["updated_at", "2022-06-12 12:44:42.471375"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-06"], ["value", "2600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.478301"], ["updated_at", "2022-06-12 12:44:42.478301"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-07"], ["value", "2700"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.491694"], ["updated_at", "2022-06-12 12:44:42.491694"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-08"], ["value", "1900"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.507982"], ["updated_at", "2022-06-12 12:44:42.507982"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-09"], ["value", "1700"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.526247"], ["updated_at", "2022-06-12 12:44:42.526247"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-10"], ["value", "1600"], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.549498"], ["updated_at", "2022-06-12 12:44:42.549498"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-11"], ["value", "1500"], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 12:44:42.560555"], ["updated_at", "2022-06-12 12:44:42.560555"], ["uploaded_file_id", 18]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
Completed 200 OK in 534ms (Views: 0.4ms | ActiveRecord: 293.8ms | Allocations: 58752)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 18:15:10 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.7ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:25:in `get_time_series'
Completed 200 OK in 85605ms (Views: 0.4ms | ActiveRecord: 2.6ms | Allocations: 1921913)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 18:19:24 +0530
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:25:in `get_time_series'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 34.0ms | Allocations: 19851)


  
ArgumentError (no block given):
  
app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 18:20:18 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[36mUserCsvRecord Load (12.5ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date /* loading for inspect */ LIMIT $2[0m  [["uploaded_file_id", 18], ["LIMIT", 11]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series'
  [1m[36mUserCsvRecord Load (1.4ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date /* loading for inspect */ LIMIT $2[0m  [["uploaded_file_id", 18], ["LIMIT", 11]]
  â†³ (byebug):1:in `get_time_series'
  [1m[36mUserCsvRecord Load (1.1ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series'
  [1m[36mUserCsvRecord Load (4.9ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  â†³ (byebug):1:in `get_time_series'
  [1m[36mUserCsvRecord Load (5.5ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  â†³ (byebug):1:in `get_time_series'
  [1m[35m (14.5ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m
  â†³ (byebug):1:in `get_time_series'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m
  â†³ (byebug):1:in `get_time_series'
  [1m[35m (5.6ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ (byebug):1:in `get_time_series'
  [1m[35m (18.1ms)[0m  [1m[34mSELECT SUM() AS sum, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ (byebug):1:in `get_time_series'
  [1m[35m (6.3ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ (byebug):1:in `get_time_series'
  [1m[35m (1.7ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ (byebug):1:in `get_time_series'
Completed 500 Internal Server Error in 1247241ms (ActiveRecord: 84.0ms | Allocations: 120461)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeValueDateTypeIntoInteger (20220612131142)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (41.3ms)[0m  [1m[35mALTER TABLE "user_csv_records" ALTER COLUMN "value" TYPE integer[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeValueDateTypeIntoInteger (20220612131142)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (153.9ms)[0m  [1m[35mALTER TABLE user_csv_records ALTER COLUMN value TYPE integer USING (value::integer);[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220612131142"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 18:47:16 +0530
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (7.7ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ (byebug):1:in `get_time_series'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ (byebug):1:in `get_time_series'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ (byebug):1:in `get_time_series'
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series'
Completed 500 Internal Server Error in 337196ms (ActiveRecord: 54.7ms | Allocations: 201742)


  
ArgumentError (no block given):
  
app/controllers/api/data_aggregation_controller.rb:27:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 18:53:03 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:27:in `get_time_series'
Completed 500 Internal Server Error in 68590ms (ActiveRecord: 12.5ms | Allocations: 141377)


  
ArgumentError (no block given):
  
app/controllers/api/data_aggregation_controller.rb:28:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 18:54:25 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.7ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[36mUserCsvRecord Load (0.7ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["uploaded_file_id", 18], ["LIMIT", 11]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ (byebug):1:in `get_time_series'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ (byebug):1:in `get_time_series'
  [1m[35mCACHE  (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:27:in `get_time_series'
Completed 500 Internal Server Error in 142955ms (ActiveRecord: 26.3ms | Allocations: 140047)


  
ArgumentError (no block given):
  
app/controllers/api/data_aggregation_controller.rb:28:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 18:56:52 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (4.9ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:27:in `get_time_series'
  [1m[35m (6.6ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:28:in `get_time_series'
Completed 200 OK in 43860ms (Views: 0.6ms | ActiveRecord: 33.6ms | Allocations: 334428)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 18:58:32 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:13:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:19:in `get_median'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:27:in `get_time_series'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:28:in `get_time_series'
Completed 200 OK in 2725ms (Views: 0.6ms | ActiveRecord: 18.7ms | Allocations: 32832)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:04:56 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:15:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:21:in `get_median'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series'
  [1m[35m (113.9ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:30:in `get_time_series'
Completed 500 Internal Server Error in 4365ms (ActiveRecord: 139.1ms | Allocations: 1926065)


  
ArgumentError (Series must have at least 10 data points):
  
app/controllers/api/data_aggregation_controller.rb:35:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:12:48 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (2.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (3.5ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:15:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:21:in `get_median'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Completed 500 Internal Server Error in 1445ms (ActiveRecord: 20.0ms | Allocations: 1914893)


  
ArgumentError (no block given):
  
app/controllers/api/data_aggregation_controller.rb:33:in `get_time_series_monthwise'
app/controllers/api/data_aggregation_controller.rb:10:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:13:30 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:15:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:21:in `get_median'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Completed 500 Internal Server Error in 183961ms (ActiveRecord: 19.5ms | Allocations: 1934715)


  
ArgumentError (no block given):
  
app/controllers/api/data_aggregation_controller.rb:34:in `get_time_series_monthwise'
app/controllers/api/data_aggregation_controller.rb:10:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:16:37 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:16:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_median'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Completed 500 Internal Server Error in 70ms (ActiveRecord: 14.3ms | Allocations: 10545)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/data_aggregation_controller.rb:9:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:17:07 +0530
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:16:in `get_max_value'
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_median'
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Completed 500 Internal Server Error in 129ms (ActiveRecord: 45.4ms | Allocations: 19747)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/data_aggregation_controller.rb:9:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:17:50 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (6.9ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:16:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_median'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:9:in `fetch_aggregation_result'
Completed 500 Internal Server Error in 14625ms (ActiveRecord: 35.5ms | Allocations: 1968979)


  
ArgumentError (no block given):
  
app/controllers/api/data_aggregation_controller.rb:35:in `get_time_series_monthwise'
app/controllers/api/data_aggregation_controller.rb:11:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:19:34 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:16:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_median'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Completed 200 OK in 1610ms (Views: 0.4ms | ActiveRecord: 11.8ms | Allocations: 1907853)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:20:16 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:16:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_median'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:9:in `fetch_aggregation_result'
Completed 500 Internal Server Error in 47ms (ActiveRecord: 11.2ms | Allocations: 10565)


  
ArgumentError (no block given):
  
app/controllers/api/data_aggregation_controller.rb:35:in `get_time_series_monthwise'
app/controllers/api/data_aggregation_controller.rb:11:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:21:33 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:16:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_median'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:9:in `fetch_aggregation_result'
Completed 500 Internal Server Error in 241531ms (ActiveRecord: 11.8ms | Allocations: 40983)


  
ArgumentError (no block given):
  
app/controllers/api/data_aggregation_controller.rb:35:in `get_time_series_monthwise'
app/controllers/api/data_aggregation_controller.rb:11:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:26:56 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:15:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:21:in `get_median'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series'
  [1m[35m (48.5ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:30:in `get_time_series'
  [1m[36mUserCsvRecord Load (0.4ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["uploaded_file_id", 18], ["LIMIT", 11]]
  â†³ app/controllers/api/data_aggregation_controller.rb:32:in `get_time_series'
Completed 500 Internal Server Error in 60240ms (ActiveRecord: 80.6ms | Allocations: 2353736)


  
ArgumentError (Series must have at least 10 data points):
  
app/controllers/api/data_aggregation_controller.rb:35:in `get_time_series'
app/controllers/api/data_aggregation_controller.rb:8:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:28:54 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:20:in `get_median'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series_daywise'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:33:in `get_time_series_monthwise'
Completed 500 Internal Server Error in 1773ms (ActiveRecord: 17.3ms | Allocations: 1920869)


  
NameError (undefined local variable or method `series_month' for #<Api::DataAggregationController:0x00000000014c08>):
  
app/controllers/api/data_aggregation_controller.rb:35:in `get_time_series_monthwise'
app/controllers/api/data_aggregation_controller.rb:9:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:29:34 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:20:in `get_median'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series_daywise'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:33:in `get_time_series_monthwise'
Completed 200 OK in 1995ms (Views: 1.1ms | ActiveRecord: 34.3ms | Allocations: 1918427)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:30:14 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:20:in `get_median'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series_daywise'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 18]]
  â†³ app/controllers/api/data_aggregation_controller.rb:33:in `get_time_series_monthwise'
Completed 500 Internal Server Error in 2212ms (ActiveRecord: 14.7ms | Allocations: 1916589)


  
ArgumentError (Series must have at least 10 data points):
  
app/controllers/api/data_aggregation_controller.rb:35:in `get_time_series_monthwise'
app/controllers/api/data_aggregation_controller.rb:9:in `fetch_aggregation_result'
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-12 19:33:31 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00007fb1b4090a70 @tempfile=#<Tempfile:/var/folders/wd/kg9frc212w74t8c27pczxyn40000gn/T/RackMultipart20220612-15243-h3t662.csv>, @original_filename="sample - Sheet1 (6).csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample - Sheet1 (6).csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (41.5ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample-Sheet1(6).csv"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.637763"], ["updated_at", "2022-06-12 14:03:31.637763"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (41.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", 500], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.710847"], ["updated_at", "2022-06-12 14:03:31.710847"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (12.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", 800], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.762412"], ["updated_at", "2022-06-12 14:03:31.762412"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.9ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-11"], ["value", 900], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.825841"], ["updated_at", "2022-06-12 14:03:31.825841"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-20"], ["value", 1000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.837345"], ["updated_at", "2022-06-12 14:03:31.837345"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (13.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-14"], ["value", 1100], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.850568"], ["updated_at", "2022-06-12 14:03:31.850568"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (42.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (3.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-15"], ["value", 1500], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.923405"], ["updated_at", "2022-06-12 14:03:31.923405"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-16"], ["value", 1600], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.939453"], ["updated_at", "2022-06-12 14:03:31.939453"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-17"], ["value", 1700], ["domain_name", "facebook.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.949441"], ["updated_at", "2022-06-12 14:03:31.949441"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (1.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-18"], ["value", 1900], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.961388"], ["updated_at", "2022-06-12 14:03:31.961388"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (3.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-19"], ["value", 2000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.972790"], ["updated_at", "2022-06-12 14:03:31.972790"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-01"], ["value", 2100], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.986444"], ["updated_at", "2022-06-12 14:03:31.986444"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (12.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-02"], ["value", 2200], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:31.999104"], ["updated_at", "2022-06-12 14:03:31.999104"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-03"], ["value", 2300], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.022966"], ["updated_at", "2022-06-12 14:03:32.022966"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-04"], ["value", 2400], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.033705"], ["updated_at", "2022-06-12 14:03:32.033705"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-05"], ["value", 2500], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.050690"], ["updated_at", "2022-06-12 14:03:32.050690"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (1.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-06"], ["value", 2600], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.068870"], ["updated_at", "2022-06-12 14:03:32.068870"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-07"], ["value", 2700], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.079749"], ["updated_at", "2022-06-12 14:03:32.079749"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (7.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-08"], ["value", 1900], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.099241"], ["updated_at", "2022-06-12 14:03:32.099241"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-09"], ["value", 1700], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.110925"], ["updated_at", "2022-06-12 14:03:32.110925"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-10"], ["value", 1600], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.119770"], ["updated_at", "2022-06-12 14:03:32.119770"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-11"], ["value", 1500], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.134182"], ["updated_at", "2022-06-12 14:03:32.134182"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-08-12"], ["value", 4000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.145058"], ["updated_at", "2022-06-12 14:03:32.145058"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-09-12"], ["value", 5000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.153843"], ["updated_at", "2022-06-12 14:03:32.153843"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-10-12"], ["value", 6000], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.163929"], ["updated_at", "2022-06-12 14:03:32.163929"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-11-12"], ["value", 7000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.178805"], ["updated_at", "2022-06-12 14:03:32.178805"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-12-12"], ["value", 8000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.186767"], ["updated_at", "2022-06-12 14:03:32.186767"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-01-10"], ["value", 9000], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.194903"], ["updated_at", "2022-06-12 14:03:32.194903"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-02-10"], ["value", 10000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.201773"], ["updated_at", "2022-06-12 14:03:32.201773"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-03-10"], ["value", 11000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.212489"], ["updated_at", "2022-06-12 14:03:32.212489"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-04-10"], ["value", 12000], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.221642"], ["updated_at", "2022-06-12 14:03:32.221642"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-05-10"], ["value", 13000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.229882"], ["updated_at", "2022-06-12 14:03:32.229882"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-06-10"], ["value", 14000], ["domain_name", "google.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.239590"], ["updated_at", "2022-06-12 14:03:32.239590"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-07-10"], ["value", 15000], ["domain_name", "xyz.com"], ["user_id", 1], ["created_at", "2022-06-12 14:03:32.249953"], ["updated_at", "2022-06-12 14:03:32.249953"], ["uploaded_file_id", 19]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
Completed 200 OK in 626ms (Views: 0.3ms | ActiveRecord: 307.8ms | Allocations: 91100)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:33:40 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:20:in `get_median'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series_daywise'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:33:in `get_time_series_monthwise'
Completed 200 OK in 24177ms (Views: 0.7ms | ActiveRecord: 3.2ms | Allocations: 3439855)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:35:01 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:20:in `get_median'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:26:in `get_time_series_daywise'
  [1m[35m (3.9ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:34:in `get_time_series_monthwise'
Completed 200 OK in 138255ms (Views: 0.7ms | ActiveRecord: 57.6ms | Allocations: 4948199)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 19:37:27 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:14:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:20:in `get_median'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:34:in `get_time_series_monthwise'
Completed 200 OK in 22116ms (Views: 0.4ms | ActiveRecord: 12.7ms | Allocations: 1149522)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (40.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddCloumnS3FilePathIntoUploadedFiles (20220612150108)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "uploaded_files" ADD "s3_file_path" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (40.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220612150108"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 20:53:17 +0530
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/app/controllers/api/data_aggregation_controller.rb:69: dynamic constant assignment
            VALID_EMAIL_REGEX = /\A[\w+\-.]+@[a-z\d\-]+(\....
            ^~~~~~~~~~~~~~~~~
):
  
app/controllers/api/data_aggregation_controller.rb:69: dynamic constant assignment
app/controllers/api/data_aggregation_controller.rb:69: dynamic constant assignment
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 20:53:51 +0530
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/app/controllers/api/data_aggregation_controller.rb:69: dynamic constant assignment
            VALID_EMAIL_REGEX = "/\A[\w+\-.]+@[a-z\d\-]+(\...
            ^~~~~~~~~~~~~~~~~
):
  
app/controllers/api/data_aggregation_controller.rb:69: dynamic constant assignment
app/controllers/api/data_aggregation_controller.rb:69: dynamic constant assignment
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 20:54:09 +0530
  
LoadError (cannot load such file -- prawn):
  
app/controllers/api/data_aggregation_controller.rb:4:in `<class:DataAggregationController>'
app/controllers/api/data_aggregation_controller.rb:2:in `<module:Api>'
app/controllers/api/data_aggregation_controller.rb:1:in `<main>'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 20:54:35 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:28:in `get_median'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:34:in `get_time_series_daywise'
  [1m[35m (7.7ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:41:in `get_time_series_monthwise'
Completed 500 Internal Server Error in 93258ms (ActiveRecord: 25.6ms | Allocations: 3735787)


  
NameError (uninitialized constant Api::DataAggregationController::Prawn):
  
app/controllers/api/data_aggregation_controller.rb:49:in `generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:17:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 20:56:19 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.8ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_max_value'
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:28:in `get_median'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:34:in `get_time_series_daywise'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:41:in `get_time_series_monthwise'
Completed 500 Internal Server Error in 100996ms (ActiveRecord: 16.7ms | Allocations: 3511031)


  
NameError (uninitialized constant Api::DataAggregationController::Prawn):
  
app/controllers/api/data_aggregation_controller.rb:49:in `generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:17:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 20:58:38 +0530
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:28:in `get_median'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:34:in `get_time_series_daywise'
  [1m[35m (6.1ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:41:in `get_time_series_monthwise'
Completed 500 Internal Server Error in 27715ms (ActiveRecord: 42.1ms | Allocations: 3585903)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/api/data_aggregation_controller.rb:50:in `[]'
app/controllers/api/data_aggregation_controller.rb:50:in `block in generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:49:in `generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:17:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 20:59:39 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (13.7ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_max_value'
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:28:in `get_median'
  [1m[35m (4.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:34:in `get_time_series_daywise'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:41:in `get_time_series_monthwise'
Completed 500 Internal Server Error in 86280ms (ActiveRecord: 20.7ms | Allocations: 3503407)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/api/data_aggregation_controller.rb:50:in `[]'
app/controllers/api/data_aggregation_controller.rb:50:in `block in generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:49:in `generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:17:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 21:02:20 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:22:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:28:in `get_median'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:34:in `get_time_series_daywise'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:41:in `get_time_series_monthwise'
Completed 200 OK in 583797ms (Views: 1.0ms | ActiveRecord: 19.3ms | Allocations: 3655604)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 21:12:12 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:18:in `get_max_value'
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:24:in `get_median'
  [1m[35m (12.2ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:30:in `get_time_series_daywise'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:37:in `get_time_series_monthwise'
Completed 200 OK in 33143ms (Views: 0.5ms | ActiveRecord: 28.4ms | Allocations: 3541839)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 21:15:16 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:18:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:24:in `get_median'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:30:in `get_time_series_daywise'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:37:in `get_time_series_monthwise'
Completed 200 OK in 410891ms (Views: 0.6ms | ActiveRecord: 31.9ms | Allocations: 3536546)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 21:22:10 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (3.6ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:36:in `get_time_series_monthwise'
  [1m[36mCACHE UploadedFile Load (0.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ (byebug):1:in `rescue in process_action'
Completed 500 Internal Server Error in 104598ms (ActiveRecord: 33.4ms | Allocations: 3535003)


  
TypeError (no implicit conversion of Integer into String):
  
app/controllers/api/data_aggregation_controller.rb:44:in `+'
app/controllers/api/data_aggregation_controller.rb:44:in `generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:12:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 21:24:24 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (1.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:36:in `get_time_series_monthwise'
Completed 500 Internal Server Error in 69653ms (ActiveRecord: 28.2ms | Allocations: 3487309)


  
TypeError (no implicit conversion of Integer into String):
  
app/controllers/api/data_aggregation_controller.rb:44:in `+'
app/controllers/api/data_aggregation_controller.rb:44:in `generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:12:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 21:25:41 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:36:in `get_time_series_monthwise'
[AWS S3 200 3.407375 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>3489,:data=>#<File:/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/public/generated_report_19 (3489 bytes)>,:key=>"generated_report_19")  

Completed 500 Internal Server Error in 165462ms (ActiveRecord: 15.4ms | Allocations: 6083605)


  
NoMethodError (undefined method `update_attributes' for #<UploadedFile:0x00007fccf5f34e30>
Did you mean?  update_attribute):
  
app/controllers/api/data_aggregation_controller.rb:56:in `generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:12:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 21:28:55 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:36:in `get_time_series_monthwise'
[AWS S3 200 2.545032 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>3489,:data=>#<File:/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/public/generated_report_19.pdf (3489 bytes)>,:key=>"generated_report_19.pdf")  

Completed 500 Internal Server Error in 22488ms (ActiveRecord: 16.5ms | Allocations: 3463793)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/data_aggregation_controller.rb:55:in `generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:12:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 21:29:49 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:36:in `get_time_series_monthwise'
[AWS S3 200 1.331949 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>3489,:data=>#<File:/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/public/generated_report_19.pdf (3489 bytes)>,:key=>"generated_report_19.pdf")  

  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ (byebug):1:in `generate_pdf_file'
  [1m[36mUploadedFile Update (7.1ms)[0m  [1m[33mUPDATE "uploaded_files" SET "updated_at" = $1, "s3_file_path" = $2 WHERE "uploaded_files"."id" = $3[0m  [["updated_at", "2022-06-12 16:00:46.694329"], ["s3_file_path", "https://synapticproject.s3.amazonaws.com/generated_report_19.pdf"], ["id", 19]]
  â†³ (byebug):1:in `generate_pdf_file'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ (byebug):1:in `generate_pdf_file'
Completed 500 Internal Server Error in 75038ms (ActiveRecord: 122.9ms | Allocations: 3506729)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/data_aggregation_controller.rb:56:in `generate_pdf_file'
app/controllers/api/data_aggregation_controller.rb:12:in `fetch_aggregation_result'
Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-12 21:31:08 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 19]]
  â†³ app/controllers/api/data_aggregation_controller.rb:36:in `get_time_series_monthwise'
[AWS S3 200 1.257016 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>3489,:data=>#<File:/Users/deepesh/ruby_workspace/synatics-data-analysis/synatics-data-analysis/public/generated_report_19.pdf (3489 bytes)>,:key=>"generated_report_19.pdf")  

Completed 200 OK in 24647ms (Views: 0.5ms | ActiveRecord: 15.0ms | Allocations: 3460109)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 21:34:40 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/data_aggregation/share_result"):
  
Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 21:34:59 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"dipeshpandey8@gmail.com"}
ResultMailer#result_share_email: processed outbound mail in 25.1ms
Completed 500 Internal Server Error in 472083ms (Allocations: 8631539)


  
ArgumentError (wrong number of arguments (given 0, expected 2)):
  
app/mailers/result_mailer.rb:2:in `result_share_email'
app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 21:45:25 +0530
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"dipeshpandey8@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (1.2ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 2.9ms | Allocations: 10172)
  Rendered layout layouts/mailer.html.erb (Duration: 5.6ms | Allocations: 25957)
ResultMailer#result_share_email: processed outbound mail in 37.7ms
Delivered mail 62a61126db36d_467238a4-41a@Julius.local.mail (1610.8ms)
Date: Sun, 12 Jun 2022 21:45:34 +0530
From: from@example.com
To: dipeshpandey8@gmail.com
Message-ID: <62a61126db36d_467238a4-41a@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a here=https://synapticproject.s3.amazonaws.com/generated_report_19.pdf download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 12539ms (Views: 0.3ms | ActiveRecord: 25.6ms | Allocations: 2034888)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 21:48:25 +0530
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"dipeshpandey8@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (4.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 1.4ms | Allocations: 224)
  Rendered layout layouts/mailer.html.erb (Duration: 3.2ms | Allocations: 402)
ResultMailer#result_share_email: processed outbound mail in 23.8ms
Delivered mail 62a611d95e728_46aa38a49462e@Julius.local.mail (1862.5ms)
Date: Sun, 12 Jun 2022 21:48:33 +0530
From: nokiatv7738@gmail.com
To: dipeshpandey8@gmail.com
Message-ID: <62a611d95e728_46aa38a49462e@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a here=https://synapticproject.s3.amazonaws.com/generated_report_19.pdf download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 9282ms (Views: 0.3ms | ActiveRecord: 50.6ms | Allocations: 101825)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 21:51:13 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 1.1ms | Allocations: 109)
  Rendered layout layouts/mailer.html.erb (Duration: 2.2ms | Allocations: 278)
ResultMailer#result_share_email: processed outbound mail in 9.0ms
Delivered mail 62a6127b63b83_46aa4ba09477@Julius.local.mail (1572.0ms)
Date: Sun, 12 Jun 2022 21:51:15 +0530
From: nokiatv7738@gmail.com
To: situguptakathari@gmail.com
Message-ID: <62a6127b63b83_46aa4ba09477@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a here=https://synapticproject.s3.amazonaws.com/generated_report_19.pdf download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 3625ms (Views: 0.8ms | ActiveRecord: 1.7ms | Allocations: 40833)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 21:52:24 +0530
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.7ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 1.0ms | Allocations: 224)
  Rendered layout layouts/mailer.html.erb (Duration: 2.5ms | Allocations: 402)
ResultMailer#result_share_email: processed outbound mail in 19.7ms
Delivered mail 62a612c21818b_46ee38a470659@Julius.local.mail (1581.2ms)
Date: Sun, 12 Jun 2022 21:52:26 +0530
From: nokiatv7738@gmail.com
To: situguptakathari@gmail.com
Message-ID: <62a612c21818b_46ee38a470659@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a here=https://synapticproject.s3.amazonaws.com/generated_report_19.pdf download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 3289ms (Views: 0.4ms | ActiveRecord: 16.7ms | Allocations: 101764)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 21:54:46 +0530
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 2.6ms | Allocations: 224)
  Rendered layout layouts/mailer.html.erb (Duration: 3.6ms | Allocations: 402)
ResultMailer#result_share_email: processed outbound mail in 27.5ms
Delivered mail 62a613507c7cd_471838a481758@Julius.local.mail (1587.4ms)
Date: Sun, 12 Jun 2022 21:54:48 +0530
From: nokiatv7738@gmail.com
To: situguptakathari@gmail.com
Message-ID: <62a613507c7cd_471838a481758@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a here=https://synapticproject.s3.amazonaws.com/generated_report_19.pdf download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 500 Internal Server Error in 3435ms (ActiveRecord: 14.1ms | Allocations: 101753)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/api/data_aggregation_controller.rb:64:in `share_result'
Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 22:04:17 +0530
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.8ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 2.8ms | Allocations: 224)
  Rendered layout layouts/mailer.html.erb (Duration: 4.2ms | Allocations: 402)
ResultMailer#result_share_email: processed outbound mail in 27.0ms
Delivered mail 62a6158b6b893_476638a428283@Julius.local.mail (4062.2ms)
Date: Sun, 12 Jun 2022 22:04:19 +0530
From: nokiatv7738@gmail.com
To: situguptakathari@gmail.com
Message-ID: <62a6158b6b893_476638a428283@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a here=https://synapticproject.s3.amazonaws.com/generated_report_19.pdf download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 6159ms (Views: 1.3ms | ActiveRecord: 17.0ms | Allocations: 103158)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 22:04:49 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"dipeshpandey8@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (1.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 109)
  Rendered layout layouts/mailer.html.erb (Duration: 1.5ms | Allocations: 278)
ResultMailer#result_share_email: processed outbound mail in 5.1ms
Delivered mail 62a615ab218ad_47664b8c28367@Julius.local.mail (3460.3ms)
Date: Sun, 12 Jun 2022 22:04:51 +0530
From: nokiatv7738@gmail.com
To: dipeshpandey8@gmail.com
Message-ID: <62a615ab218ad_47664b8c28367@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a here=https://synapticproject.s3.amazonaws.com/generated_report_19.pdf download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 5228ms (Views: 0.5ms | ActiveRecord: 1.9ms | Allocations: 42127)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 22:06:17 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"dipeshpandey8@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.6ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (3.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 1.5ms | Allocations: 108)
  Rendered layout layouts/mailer.html.erb (Duration: 3.0ms | Allocations: 276)
ResultMailer#result_share_email: processed outbound mail in 11.2ms
Delivered mail 62a616047d5b1_476638a42842c@Julius.local.mail (3539.1ms)
Date: Sun, 12 Jun 2022 22:06:20 +0530
From: nokiatv7738@gmail.com
To: dipeshpandey8@gmail.com
Message-ID: <62a616047d5b1_476638a42842c@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a here="https://synapticproject.s3.amazonaws.com/generated_report_19.pdf" download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 6451ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 41976)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 22:06:43 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.6ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 0.0ms | Allocations: 5)
  Rendered layout layouts/mailer.html.erb (Duration: 0.4ms | Allocations: 78)
ResultMailer#result_share_email: processed outbound mail in 1.9ms
Delivered mail 62a6161cea557_47664ccc285ee@Julius.local.mail (3556.4ms)
Date: Sun, 12 Jun 2022 22:06:44 +0530
From: nokiatv7738@gmail.com
To: situguptakathari@gmail.com
Message-ID: <62a6161cea557_47664ccc285ee@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a here="https://synapticproject.s3.amazonaws.com/generated_report_19.pdf" download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 5039ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 41330)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-12 22:08:44 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "H6_nWNdFfI4CJumhVRaEPAIgvFhNyCpEyHR2vub9KCs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 0.7ms | Allocations: 110)
  Rendered layout layouts/mailer.html.erb (Duration: 4.5ms | Allocations: 279)
ResultMailer#result_share_email: processed outbound mail in 8.6ms
Delivered mail 62a6169546e26_47664d1c28671@Julius.local.mail (4159.9ms)
Date: Sun, 12 Jun 2022 22:08:45 +0530
From: nokiatv7738@gmail.com
To: situguptakathari@gmail.com
Message-ID: <62a6169546e26_47664d1c28671@Julius.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a href="https://synapticproject.s3.amazonaws.com/generated_report_19.pdf" download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 5173ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 42022)


  [1m[35m (196.5ms)[0m  [1m[35mCREATE DATABASE "synatics_data_analysis_development" ENCODING = 'unicode'[0m
  [1m[35m (57.4ms)[0m  [1m[35mCREATE DATABASE "synatics_data_analysis_test" ENCODING = 'unicode'[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7387307664062413080)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20220611173434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220611173434"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20220611175131)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "oauth_applications" ("id" bigserial primary key, "name" character varying NOT NULL, "uid" character varying NOT NULL, "secret" character varying NOT NULL, "redirect_uri" text, "scopes" character varying DEFAULT '' NOT NULL, "confidential" boolean DEFAULT TRUE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_applications_on_uid" ON "oauth_applications" ("uid")[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "oauth_access_grants" ("id" bigserial primary key, "resource_owner_id" bigint NOT NULL, "application_id" bigint NOT NULL, "token" character varying NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying DEFAULT '' NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_grants_on_resource_owner_id" ON "oauth_access_grants" ("resource_owner_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_grants_on_application_id" ON "oauth_access_grants" ("application_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "oauth_access_tokens" ("id" bigserial primary key, "resource_owner_id" bigint, "application_id" bigint NOT NULL, "token" character varying NOT NULL, "refresh_token" character varying, "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying, "previous_refresh_token" character varying DEFAULT '' NOT NULL)[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" ("resource_owner_id")[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE INDEX "index_oauth_access_tokens_on_application_id" ON "oauth_access_tokens" ("application_id")[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" ("token")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" ("refresh_token")[0m
  [1m[35m (77.0ms)[0m  [1m[35mALTER TABLE "oauth_access_tokens" ADD CONSTRAINT "fk_rails_732cb83ab7"
FOREIGN KEY ("application_id")
  REFERENCES "oauth_applications" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220611175131"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUserCsvRecords (20220611203637)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "user_csv_records" ("id" bigserial primary key, "date" date, "value" character varying, "domain_name" character varying, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ce938f1802"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_user_csv_records_on_user_id" ON "user_csv_records" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220611203637"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUploadedFiles (20220612063458)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "uploaded_files" ("id" bigserial primary key, "file_name" character varying, "user_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220612063458"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnUploadedFileIdIntoUserCsvRecords (20220612063542)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "user_csv_records" ADD "uploaded_file_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220612063542"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeValueDateTypeIntoInteger (20220612131142)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.7ms)[0m  [1m[35mALTER TABLE user_csv_records ALTER COLUMN value TYPE integer USING (value::integer);[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220612131142"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCloumnS3FilePathIntoUploadedFiles (20220612150108)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "uploaded_files" ADD "s3_file_path" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220612150108"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-06-13 06:42:59.222082"], ["updated_at", "2022-06-13 06:42:59.222082"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7387307664062413080)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "oauth_applications"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::Application Create (1.0ms)[0m  [1m[32mINSERT INTO "oauth_applications" ("name", "uid", "secret", "redirect_uri", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "synaptics application"], ["uid", "GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"], ["secret", "C9-TAxU_2F312KiIWI9gyXO2WoaUY-ZRin1MgsmwKRE"], ["redirect_uri", ""], ["created_at", "2022-06-13 06:43:05.430099"], ["updated_at", "2022-06-13 06:43:05.430099"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2022-06-13 12:31:57 +0530
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/situgupta/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/situgupta/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb (Duration: 4.7ms | Allocations: 406)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 3535)


Started POST "/api/user_register?email=situguptakathari@gmail.com&password=[FILTERED]&client_id=GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk" for ::1 at 2022-06-13 13:08:42 +0530
Processing by Api::UserRegisterController#create as */*
  Parameters: {"email"=>"situguptakathari@gmail.com", "password"=>"[FILTERED]", "client_id"=>"GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"}
[31mUnpermitted parameter: :client_id[0m
[31mUnpermitted parameter: :client_id[0m
  [1m[36mDoorkeeper::Application Load (1.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "situguptakathari@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mUser Create (5.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "situguptakathari@gmail.com"], ["encrypted_password", "$2a$12$kI.Ozx4nmsU0ZfAHCrqEseFJNAZLc.QG0gHumsiEhwdfePaRWOjx."], ["created_at", "2022-06-13 07:38:43.740396"], ["updated_at", "2022-06-13 07:38:43.740396"]]
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mDoorkeeper::AccessToken Exists? (6.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "f3dbf6b4e0e7118e6e6bbf9e393298a19712ccec65322a2529bc2959cc20a4b4"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:51:in `block in generate_refresh_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::AccessToken Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "3RGK0S_NIfCVqtZvPVDrgnJhl1SFEdI-cIZdRwOWMX8"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::AccessToken Create (6.6ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 1], ["application_id", 1], ["token", "3RGK0S_NIfCVqtZvPVDrgnJhl1SFEdI-cIZdRwOWMX8"], ["refresh_token", "f3dbf6b4e0e7118e6e6bbf9e393298a19712ccec65322a2529bc2959cc20a4b4"], ["expires_in", 7200], ["created_at", "2022-06-13 07:38:43.777118"], ["scopes", ""]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
Completed 200 OK in 1334ms (Views: 0.2ms | ActiveRecord: 80.9ms | Allocations: 29829)


Started POST "/api/user_register?email=situiitb@gmail.com&password=[FILTERED]&client_id=GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk" for ::1 at 2022-06-13 13:13:02 +0530
Processing by Api::UserRegisterController#create as */*
  Parameters: {"email"=>"situiitb@gmail.com", "password"=>"[FILTERED]", "client_id"=>"GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"}
[31mUnpermitted parameter: :client_id[0m
[31mUnpermitted parameter: :client_id[0m
  [1m[36mDoorkeeper::Application Load (0.9ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "situiitb@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "situiitb@gmail.com"], ["encrypted_password", "$2a$12$VEKXXTaA/6h79u.1O4yTx.jTzEUeE5Hdn8cZfDxGrdpqC5viNOipO"], ["created_at", "2022-06-13 07:43:02.993631"], ["updated_at", "2022-06-13 07:43:02.993631"]]
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mDoorkeeper::AccessToken Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "f4383a0552bf4549878f1c0a5028acc2da04b423f312b2c65d725ab4ec8af5bc"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:51:in `block in generate_refresh_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::AccessToken Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "192bPM0y1TfdtFSqnP2KhPWEOs5rTNvPWKWq0sIlfIs"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::AccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "192bPM0y1TfdtFSqnP2KhPWEOs5rTNvPWKWq0sIlfIs"], ["refresh_token", "f4383a0552bf4549878f1c0a5028acc2da04b423f312b2c65d725ab4ec8af5bc"], ["expires_in", 7200], ["created_at", "2022-06-13 07:43:03.013727"], ["scopes", ""]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
Completed 200 OK in 301ms (Views: 0.1ms | ActiveRecord: 5.3ms | Allocations: 6853)


Started POST "/oauth/token?grant_type=password&email=deepesh@gmail.com&password=[FILTERED]&client_id=_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc&client_secret=[FILTERED]" for ::1 at 2022-06-13 13:18:48 +0530
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "email"=>"deepesh@gmail.com", "password"=>"[FILTERED]", "client_id"=>"_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc", "client_secret"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (23.1ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "_WElz7Rpu9O34cRmyl9DgrML48lxLjnl-OE-Xuec5Pc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "deepesh@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `authenticate'
Completed 401 Unauthorized in 155ms (Views: 0.2ms | ActiveRecord: 23.8ms | Allocations: 12097)


Started POST "/oauth/token?grant_type=password&email=deepesh@gmail.com&password=[FILTERED]&client_id=GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk&client_secret=[FILTERED]" for ::1 at 2022-06-13 13:19:28 +0530
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "email"=>"deepesh@gmail.com", "password"=>"[FILTERED]", "client_id"=>"GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk", "client_secret"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "deepesh@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `authenticate'
Completed 400 Bad Request in 6ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1530)


Started POST "/oauth/token?grant_type=password&email=situiitb@gmail.com&password=[FILTERED]&client_id=GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk&client_secret=[FILTERED]" for ::1 at 2022-06-13 13:19:54 +0530
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "email"=>"situiitb@gmail.com", "password"=>"[FILTERED]", "client_id"=>"GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk", "client_secret"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (1.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "situiitb@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:11:in `authenticate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "dwOMVJBVmKSm2CEU1018JfHBTfIVaP6JjhSCI29sctg"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "CP4UlVzW-XFq17xGaz_D7FpmnQQLnDvqqFUc8e3lxMQ"], ["LIMIT", 1]]
  [1m[36mDoorkeeper::AccessToken Create (1.8ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 2], ["application_id", 1], ["token", "dwOMVJBVmKSm2CEU1018JfHBTfIVaP6JjhSCI29sctg"], ["refresh_token", "CP4UlVzW-XFq17xGaz_D7FpmnQQLnDvqqFUc8e3lxMQ"], ["expires_in", 7200], ["created_at", "2022-06-13 07:49:54.829288"], ["scopes", ""]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 296ms (Views: 0.1ms | ActiveRecord: 5.2ms | Allocations: 8869)


Started POST "/api/users/auth/google_oauth2" for ::1 at 2022-06-13 13:21:06 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/users/auth/google_oauth2"):
  
Started GET "/api/users/auth/google_oauth2" for ::1 at 2022-06-13 13:21:19 +0530
  
ActionController::RoutingError (No route matches [GET] "/api/users/auth/google_oauth2"):
  
Started POST "/api/users/auth/google_oauth2" for ::1 at 2022-06-13 13:21:24 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/users/auth/google_oauth2"):
  
Started POST "/api/user_csv_record/import" for ::1 at 2022-06-13 13:34:11 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x00000001099cf478 @tempfile=#<Tempfile:/var/folders/l3/46wgx3p57qvd_m2yzzz0f2t00000gn/T/RackMultipart20220613-58932-byo63j.csv>, @original_filename="sample_-_sheet1__6_.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample_-_sheet1__6_.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (1.0ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "192bPM0y1TfdtFSqnP2KhPWEOs5rTNvPWKWq0sIlfIs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (3.7ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample_-_sheet1__6_.csv"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.466755"], ["updated_at", "2022-06-13 08:04:11.466755"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (6.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", 500], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.512915"], ["updated_at", "2022-06-13 08:04:11.512915"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", 800], ["domain_name", "facebook.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.527689"], ["updated_at", "2022-06-13 08:04:11.527689"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-11"], ["value", 900], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.534718"], ["updated_at", "2022-06-13 08:04:11.534718"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-20"], ["value", 1000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.540336"], ["updated_at", "2022-06-13 08:04:11.540336"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-14"], ["value", 1100], ["domain_name", "facebook.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.545184"], ["updated_at", "2022-06-13 08:04:11.545184"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.9ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-15"], ["value", 1500], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.550227"], ["updated_at", "2022-06-13 08:04:11.550227"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (1.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-16"], ["value", 1600], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.556641"], ["updated_at", "2022-06-13 08:04:11.556641"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-17"], ["value", 1700], ["domain_name", "facebook.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.563495"], ["updated_at", "2022-06-13 08:04:11.563495"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-18"], ["value", 1900], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.568629"], ["updated_at", "2022-06-13 08:04:11.568629"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (2.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-19"], ["value", 2000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.573537"], ["updated_at", "2022-06-13 08:04:11.573537"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-01"], ["value", 2100], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.589533"], ["updated_at", "2022-06-13 08:04:11.589533"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-02"], ["value", 2200], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.593617"], ["updated_at", "2022-06-13 08:04:11.593617"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-03"], ["value", 2300], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.599760"], ["updated_at", "2022-06-13 08:04:11.599760"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-04"], ["value", 2400], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.603393"], ["updated_at", "2022-06-13 08:04:11.603393"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (2.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-05"], ["value", 2500], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.607723"], ["updated_at", "2022-06-13 08:04:11.607723"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-06"], ["value", 2600], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.613964"], ["updated_at", "2022-06-13 08:04:11.613964"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-07"], ["value", 2700], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.618054"], ["updated_at", "2022-06-13 08:04:11.618054"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-08"], ["value", 1900], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.622989"], ["updated_at", "2022-06-13 08:04:11.622989"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-09"], ["value", 1700], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.627740"], ["updated_at", "2022-06-13 08:04:11.627740"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-10"], ["value", 1600], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.631478"], ["updated_at", "2022-06-13 08:04:11.631478"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-11"], ["value", 1500], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.635410"], ["updated_at", "2022-06-13 08:04:11.635410"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-08-12"], ["value", 4000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.639434"], ["updated_at", "2022-06-13 08:04:11.639434"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-09-12"], ["value", 5000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.644154"], ["updated_at", "2022-06-13 08:04:11.644154"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-10-12"], ["value", 6000], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.648133"], ["updated_at", "2022-06-13 08:04:11.648133"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-11-12"], ["value", 7000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.652094"], ["updated_at", "2022-06-13 08:04:11.652094"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.8ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-12-12"], ["value", 8000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.655649"], ["updated_at", "2022-06-13 08:04:11.655649"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-01-10"], ["value", 9000], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.661191"], ["updated_at", "2022-06-13 08:04:11.661191"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-02-10"], ["value", 10000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.664866"], ["updated_at", "2022-06-13 08:04:11.664866"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-03-10"], ["value", 11000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.668645"], ["updated_at", "2022-06-13 08:04:11.668645"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-04-10"], ["value", 12000], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.672780"], ["updated_at", "2022-06-13 08:04:11.672780"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.7ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-05-10"], ["value", 13000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.677237"], ["updated_at", "2022-06-13 08:04:11.677237"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-06-10"], ["value", 14000], ["domain_name", "google.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.681280"], ["updated_at", "2022-06-13 08:04:11.681280"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-07-10"], ["value", 15000], ["domain_name", "xyz.com"], ["user_id", 2], ["created_at", "2022-06-13 08:04:11.685288"], ["updated_at", "2022-06-13 08:04:11.685288"], ["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
Completed 200 OK in 376ms (Views: 0.2ms | ActiveRecord: 101.3ms | Allocations: 99251)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-13 13:35:54 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.7ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "192bPM0y1TfdtFSqnP2KhPWEOs5rTNvPWKWq0sIlfIs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:12:in `export'
  [1m[36mUserCsvRecord Load (0.4ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 1]]
  â†³ app/models/user_csv_record.rb:53:in `block in to_csv'
[AWS S3 200 1.639369 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>893,:data=>#<File:public/sample_-_sheet1__6_.csv (893 bytes)>,:key=>"sample_-_sheet1__6_.csv")  

Completed 200 OK in 1703ms (Views: 0.4ms | ActiveRecord: 2.1ms | Allocations: 14753)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-13 13:36:30 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "192bPM0y1TfdtFSqnP2KhPWEOs5rTNvPWKWq0sIlfIs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[35m (11.1ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:36:in `get_time_series_monthwise'
[AWS S3 200 1.827336 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>3485,:data=>#<File:/Users/situgupta/Desktop/Demo_Project/synaptic_api_main/public/generated_report_1.pdf (3485 bytes)>,:key=>"generated_report_1.pdf")  

  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/data_aggregation_controller.rb:55:in `generate_pdf_file'
  [1m[36mUploadedFile Update (3.5ms)[0m  [1m[33mUPDATE "uploaded_files" SET "updated_at" = $1, "s3_file_path" = $2 WHERE "uploaded_files"."id" = $3[0m  [["updated_at", "2022-06-13 08:06:39.433748"], ["s3_file_path", "https://synapticproject.s3.amazonaws.com/generated_report_1.pdf"], ["id", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:55:in `generate_pdf_file'
  [1m[36mTRANSACTION (23.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/data_aggregation_controller.rb:55:in `generate_pdf_file'
Completed 200 OK in 9155ms (Views: 1.1ms | ActiveRecord: 38.9ms | Allocations: 3487472)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-13 13:37:23 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.9ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "192bPM0y1TfdtFSqnP2KhPWEOs5rTNvPWKWq0sIlfIs"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 5.2ms | Allocations: 116)
  Rendered layout layouts/mailer.html.erb (Duration: 5.7ms | Allocations: 291)
ResultMailer#result_share_email: processed outbound mail in 8.4ms
Delivered mail 62a6f04873862_e634490c618b3@Situs-MacBook-Pro-3.local.mail (4856.0ms)
Date: Mon, 13 Jun 2022 13:37:36 +0530
From: nokiatv7738@gmail.com
To: situguptakathari@gmail.com
Message-ID: <62a6f04873862_e634490c618b3@Situs-MacBook-Pro-3.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a href="https://synapticproject.s3.amazonaws.com/generated_report_1.pdf" download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 18039ms (Views: 0.8ms | ActiveRecord: 3.3ms | Allocations: 87983)


Started POST "/api/users/auth/google_oauth2" for ::1 at 2022-06-13 13:38:58 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/users/auth/google_oauth2"):
  
Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-13 13:44:28 +0530
Processing by Users::OmniauthCallbacksController#passthru as */*
Completed 404 Not Found in 1ms (Views: 0.3ms | Allocations: 150)


Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-13 13:48:02 +0530
Processing by Users::OmniauthCallbacksController#passthru as */*
Completed 404 Not Found in 2ms (Views: 0.4ms | Allocations: 75)


Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-13 13:48:04 +0530
Processing by Users::OmniauthCallbacksController#passthru as */*
Completed 404 Not Found in 0ms (Views: 0.1ms | Allocations: 75)


Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-13 13:48:05 +0530
Processing by Users::OmniauthCallbacksController#passthru as */*
Completed 404 Not Found in 0ms (Views: 0.1ms | Allocations: 75)


Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-13 13:49:39 +0530
Processing by Users::OmniauthCallbacksController#passthru as */*
Completed 404 Not Found in 2ms (Views: 0.3ms | Allocations: 75)


Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-13 13:50:53 +0530
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  
omniauth (2.1.0) lib/omniauth/strategy.rb:180:in `call!'
omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3.1) lib/rack/etag.rb:27:in `call'
rack (2.2.3.1) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3.1) lib/rack/head.rb:12:in `call'
activerecord (6.1.6) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.6) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.6) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.6) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.6) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3.1) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3.1) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.6) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.6) lib/rails/engine.rb:539:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/auth/google_oauth2" for ::1 at 2022-06-13 13:52:30 +0530
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::OmniauthCallbacksController#failure as */*
Redirected to http://localhost:3000/users/sign_in
Completed 302 Found in 6ms (ActiveRecord: 0.0ms | Allocations: 3207)


Started GET "/users/sign_in" for ::1 at 2022-06-13 13:52:30 +0530
  
NoMethodError (undefined method `prepend_before_filter' for Users::SessionsController:Class
Did you mean?  prepend_before_action):
  
app/controllers/users/sessions_controller.rb:5:in `<class:SessionsController>'
app/controllers/users/sessions_controller.rb:4:in `<main>'
Started GET "/" for ::1 at 2022-06-13 13:54:04 +0530
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/situgupta/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/situgupta/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb (Duration: 5.5ms | Allocations: 298)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 2384)


Started GET "/" for ::1 at 2022-06-13 13:54:06 +0530
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/situgupta/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/situgupta/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb (Duration: 9.1ms | Allocations: 178)
Completed 200 OK in 21ms (Views: 12.7ms | ActiveRecord: 0.0ms | Allocations: 812)


Started GET "/" for ::1 at 2022-06-13 14:23:19 +0530
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/situgupta/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/situgupta/.rvm/gems/ruby-2.7.6/gems/railties-6.1.6/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.3ms | Allocations: 298)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 2384)


Started POST "/api/user_register?email=situ@gmail.com&password=[FILTERED]&client_id=GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk" for ::1 at 2022-06-13 14:23:41 +0530
Processing by Api::UserRegisterController#create as */*
  Parameters: {"email"=>"situ@gmail.com", "password"=>"[FILTERED]", "client_id"=>"GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"}
[31mUnpermitted parameter: :client_id[0m
[31mUnpermitted parameter: :client_id[0m
  [1m[36mDoorkeeper::Application Load (0.8ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."uid" = $1 LIMIT $2[0m  [["uid", "GQcWjxtqFuw4TYH1ygHlkBN2OBuO6N3r5dKHGsK1HGk"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "situ@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "situ@gmail.com"], ["encrypted_password", "$2a$12$xLlPcPhE3ZmR1.x0BRHdle2FbxJGu40hwX.a0WkRsqtYwD4R0Z5K2"], ["created_at", "2022-06-13 08:53:42.046333"], ["updated_at", "2022-06-13 08:53:42.046333"]]
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/user_register_controller.rb:12:in `create'
  [1m[36mDoorkeeper::AccessToken Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."refresh_token" = $1 LIMIT $2[0m  [["refresh_token", "6ddf52ecaac888a229326c983fc830135895028e8eb3d95a152798bda3da8b4f"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:51:in `block in generate_refresh_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1m[34mSELECT "oauth_applications".* FROM "oauth_applications" WHERE "oauth_applications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::AccessToken Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "oaLVvzMTdXSat_tOVJc5WxCAQpQoDR7xGq_HZaF40Gw"], ["LIMIT", 1]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mDoorkeeper::AccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "oauth_access_tokens" ("resource_owner_id", "application_id", "token", "refresh_token", "expires_in", "created_at", "scopes") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_owner_id", 3], ["application_id", 1], ["token", "oaLVvzMTdXSat_tOVJc5WxCAQpQoDR7xGq_HZaF40Gw"], ["refresh_token", "6ddf52ecaac888a229326c983fc830135895028e8eb3d95a152798bda3da8b4f"], ["expires_in", 7200], ["created_at", "2022-06-13 08:53:42.067161"], ["scopes", ""]]
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/user_register_controller.rb:14:in `create'
Completed 200 OK in 337ms (Views: 0.2ms | ActiveRecord: 30.0ms | Allocations: 23251)


Started POST "/api/user_csv_record/import" for ::1 at 2022-06-13 14:24:21 +0530
Processing by Api::UserCsvRecordController#import as */*
  Parameters: {"file"=>#<ActionDispatch::Http::UploadedFile:0x000000010a6d5898 @tempfile=#<Tempfile:/var/folders/l3/46wgx3p57qvd_m2yzzz0f2t00000gn/T/RackMultipart20220613-63706-1bmxinp.csv>, @original_filename="sample_-_sheet1__6_.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"sample_-_sheet1__6_.csv\"\r\nContent-Type: text/csv\r\n">}
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "oaLVvzMTdXSat_tOVJc5WxCAQpQoDR7xGq_HZaF40Gw"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mUploadedFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uploaded_files" ("file_name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["file_name", "sample_-_sheet1__6_.csv"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.598274"], ["updated_at", "2022-06-13 08:54:21.598274"]]
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/uploaded_file.rb:5:in `add_file'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.9ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-12"], ["value", 500], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.619952"], ["updated_at", "2022-06-13 08:54:21.619952"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-13"], ["value", 800], ["domain_name", "facebook.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.625660"], ["updated_at", "2022-06-13 08:54:21.625660"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-11"], ["value", 900], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.628812"], ["updated_at", "2022-06-13 08:54:21.628812"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-20"], ["value", 1000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.640218"], ["updated_at", "2022-06-13 08:54:21.640218"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-14"], ["value", 1100], ["domain_name", "facebook.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.644289"], ["updated_at", "2022-06-13 08:54:21.644289"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-15"], ["value", 1500], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.647591"], ["updated_at", "2022-06-13 08:54:21.647591"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-16"], ["value", 1600], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.651094"], ["updated_at", "2022-06-13 08:54:21.651094"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-17"], ["value", 1700], ["domain_name", "facebook.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.654579"], ["updated_at", "2022-06-13 08:54:21.654579"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (2.6ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-18"], ["value", 1900], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.657803"], ["updated_at", "2022-06-13 08:54:21.657803"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-06-19"], ["value", 2000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.663944"], ["updated_at", "2022-06-13 08:54:21.663944"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.4ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (1.0ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-01"], ["value", 2100], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.668633"], ["updated_at", "2022-06-13 08:54:21.668633"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-02"], ["value", 2200], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.672552"], ["updated_at", "2022-06-13 08:54:21.672552"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-03"], ["value", 2300], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.675555"], ["updated_at", "2022-06-13 08:54:21.675555"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-04"], ["value", 2400], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.678307"], ["updated_at", "2022-06-13 08:54:21.678307"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-05"], ["value", 2500], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.681558"], ["updated_at", "2022-06-13 08:54:21.681558"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-06"], ["value", 2600], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.684848"], ["updated_at", "2022-06-13 08:54:21.684848"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-07"], ["value", 2700], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.688258"], ["updated_at", "2022-06-13 08:54:21.688258"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-08"], ["value", 1900], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.691477"], ["updated_at", "2022-06-13 08:54:21.691477"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-09"], ["value", 1700], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.694591"], ["updated_at", "2022-06-13 08:54:21.694591"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-10"], ["value", 1600], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.698113"], ["updated_at", "2022-06-13 08:54:21.698113"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-07-11"], ["value", 1500], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.701315"], ["updated_at", "2022-06-13 08:54:21.701315"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-08-12"], ["value", 4000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.704871"], ["updated_at", "2022-06-13 08:54:21.704871"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-09-12"], ["value", 5000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.707638"], ["updated_at", "2022-06-13 08:54:21.707638"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-10-12"], ["value", 6000], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.710178"], ["updated_at", "2022-06-13 08:54:21.710178"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-11-12"], ["value", 7000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.713798"], ["updated_at", "2022-06-13 08:54:21.713798"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2022-12-12"], ["value", 8000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.717378"], ["updated_at", "2022-06-13 08:54:21.717378"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.1ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-01-10"], ["value", 9000], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.720960"], ["updated_at", "2022-06-13 08:54:21.720960"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-02-10"], ["value", 10000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.723963"], ["updated_at", "2022-06-13 08:54:21.723963"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-03-10"], ["value", 11000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.727072"], ["updated_at", "2022-06-13 08:54:21.727072"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-04-10"], ["value", 12000], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.730280"], ["updated_at", "2022-06-13 08:54:21.730280"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-05-10"], ["value", 13000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.733740"], ["updated_at", "2022-06-13 08:54:21.733740"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-06-10"], ["value", 14000], ["domain_name", "google.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.741069"], ["updated_at", "2022-06-13 08:54:21.741069"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mUserCsvRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "user_csv_records" ("date", "value", "domain_name", "user_id", "created_at", "updated_at", "uploaded_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2023-07-10"], ["value", 15000], ["domain_name", "xyz.com"], ["user_id", 3], ["created_at", "2022-06-13 08:54:21.744090"], ["updated_at", "2022-06-13 08:54:21.744090"], ["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:38:in `block in import'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user_csv_record.rb:38:in `block in import'
Completed 200 OK in 158ms (Views: 0.1ms | ActiveRecord: 46.9ms | Allocations: 96274)


Started POST "/api/user_csv_record/export" for ::1 at 2022-06-13 14:24:42 +0530
Processing by Api::UserCsvRecordController#export as */*
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "oaLVvzMTdXSat_tOVJc5WxCAQpQoDR7xGq_HZaF40Gw"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/user_csv_record_controller.rb:12:in `export'
  [1m[36mUserCsvRecord Load (1.2ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/models/user_csv_record.rb:53:in `block in to_csv'
[AWS S3 200 1.622409 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>893,:data=>#<File:public/sample_-_sheet1__6_.csv (893 bytes)>,:key=>"sample_-_sheet1__6_.csv")  

Completed 200 OK in 1650ms (Views: 0.6ms | ActiveRecord: 2.2ms | Allocations: 8147)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-13 14:25:02 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (0.3ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "oaLVvzMTdXSat_tOVJc5WxCAQpQoDR7xGq_HZaF40Gw"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.2ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[35m (6.5ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:36:in `get_time_series_monthwise'
[AWS S3 200 1.704315 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>3485,:data=>#<File:/Users/situgupta/Desktop/Demo_Project/synaptic_api_main/public/generated_report_2.pdf (3485 bytes)>,:key=>"generated_report_2.pdf")  

  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/data_aggregation_controller.rb:55:in `generate_pdf_file'
  [1m[36mUploadedFile Update (1.8ms)[0m  [1m[33mUPDATE "uploaded_files" SET "updated_at" = $1, "s3_file_path" = $2 WHERE "uploaded_files"."id" = $3[0m  [["updated_at", "2022-06-13 08:55:09.544219"], ["s3_file_path", "https://synapticproject.s3.amazonaws.com/generated_report_2.pdf"], ["id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:55:in `generate_pdf_file'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/data_aggregation_controller.rb:55:in `generate_pdf_file'
Completed 200 OK in 6651ms (Views: 0.5ms | ActiveRecord: 10.7ms | Allocations: 3496666)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-13 14:25:31 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "oaLVvzMTdXSat_tOVJc5WxCAQpQoDR7xGq_HZaF40Gw"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 116)
  Rendered layout layouts/mailer.html.erb (Duration: 1.4ms | Allocations: 290)
ResultMailer#result_share_email: processed outbound mail in 4.3ms
Delivered mail 62a6fb8cbc785_f8da38e0677fe@Situs-MacBook-Pro-3.local.mail (5283.8ms)
Date: Mon, 13 Jun 2022 14:25:40 +0530
From: nokiatv7738@gmail.com
To: situguptakathari@gmail.com
Message-ID: <62a6fb8cbc785_f8da38e0677fe@Situs-MacBook-Pro-3.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a href="https://synapticproject.s3.amazonaws.com/generated_report_2.pdf" download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 14838ms (Views: 0.8ms | ActiveRecord: 1.2ms | Allocations: 51311)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-13 15:31:36 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmai@com"}
Completed 200 OK in 1ms (Views: 0.4ms | Allocations: 132)


Started POST "/api/data_aggregation/share_result" for ::1 at 2022-06-13 15:32:27 +0530
Processing by Api::DataAggregationController#share_result as */*
  Parameters: {"to_email"=>"situguptakathari@gmail.com"}
  [1m[36mDoorkeeper::AccessToken Load (2.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "oaLVvzMTdXSat_tOVJc5WxCAQpQoDR7xGq_HZaF40Gw"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (2.3ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:63:in `share_result'
  Rendering layout layouts/mailer.html.erb
  Rendering result_mailer/result_share_email.html.erb within layouts/mailer
  Rendered result_mailer/result_share_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 5)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 77)
ResultMailer#result_share_email: processed outbound mail in 2.5ms
Delivered mail 62a70b33e62d9_f8da38e06785f@Situs-MacBook-Pro-3.local.mail (15025.9ms)
Date: Mon, 13 Jun 2022 15:32:27 +0530
From: nokiatv7738@gmail.com
To: situguptakathari@gmail.com
Message-ID: <62a70b33e62d9_f8da38e06785f@Situs-MacBook-Pro-3.local.mail>
Subject: Data analysis report
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <p>Hi,</p>
    <p>
    Your Report generated<br>
    --------------------------
    </p>
    <p><a href="https://synapticproject.s3.amazonaws.com/generated_report_2.pdf" download="my-suggested-file-name">Click here</a> to download report</p>
    </p>
    <p>Thank You</p>
  </body>
</html>
  </body>
</html>

Completed 200 OK in 15289ms (Views: 0.9ms | ActiveRecord: 26.6ms | Allocations: 16212)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-13 16:12:21 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (2.1ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "oaLVvzMTdXSat_tOVJc5WxCAQpQoDR7xGq_HZaF40Gw"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (1.0ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[36mUserCsvRecord Load (0.8ms)[0m  [1m[34mSELECT "user_csv_records".* FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["uploaded_file_id", 2], ["LIMIT", 11]]
  â†³ app/controllers/api/data_aggregation_controller.rb:37:in `get_time_series_monthwise'
  [1m[35m (4.8ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:37:in `get_time_series_monthwise'
[AWS S3 200 2.01361 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>3485,:data=>#<File:/Users/situgupta/Desktop/Demo_Project/synaptic_api_main/public/generated_report_2.pdf (3485 bytes)>,:key=>"generated_report_2.pdf")  

Completed 200 OK in 34757ms (Views: 0.9ms | ActiveRecord: 31.4ms | Allocations: 3473757)


Started GET "/api/data_aggregation/fetch_aggregation_result" for ::1 at 2022-06-13 16:13:05 +0530
Processing by Api::DataAggregationController#fetch_aggregation_result as */*
  [1m[36mDoorkeeper::AccessToken Load (2.7ms)[0m  [1m[34mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens" WHERE "oauth_access_tokens"."token" = $1 LIMIT $2[0m  [["token", "oaLVvzMTdXSat_tOVJc5WxCAQpQoDR7xGq_HZaF40Gw"], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/application_controller.rb:10:in `current_user'
  [1m[36mUploadedFile Load (0.5ms)[0m  [1m[34mSELECT "uploaded_files".* FROM "uploaded_files" WHERE "uploaded_files"."user_id" = $1 ORDER BY "uploaded_files"."id" DESC LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/data_aggregation_controller.rb:5:in `fetch_aggregation_result'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:17:in `get_max_value'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:23:in `get_median'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "user_csv_records"."date", "user_csv_records"."value" FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:29:in `get_time_series_daywise'
  [1m[35m (2.2ms)[0m  [1m[34mSELECT SUM("user_csv_records"."value") AS sum_value, DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS date_trunc_month_user_csv_records_date_timestamptz_at_time_zone FROM "user_csv_records" WHERE "user_csv_records"."uploaded_file_id" = $1 AND ("user_csv_records"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "user_csv_records"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["uploaded_file_id", 2]]
  â†³ app/controllers/api/data_aggregation_controller.rb:37:in `get_time_series_monthwise'
[AWS S3 200 1.906269 0 retries] put_object(:acl=>:public_read,:bucket_name=>"synapticproject",:content_length=>3485,:data=>#<File:/Users/situgupta/Desktop/Demo_Project/synaptic_api_main/public/generated_report_2.pdf (3485 bytes)>,:key=>"generated_report_2.pdf")  

Completed 200 OK in 173750ms (Views: 6.7ms | ActiveRecord: 6.6ms | Allocations: 68011966)


